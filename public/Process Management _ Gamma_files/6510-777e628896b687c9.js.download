"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6510],{89962:function(e,n,t){t.d(n,{oO:function(){return i.o},wI:function(){return u},GE:function(){return A}});var i=t(62286),r=t(95235),o=t(11919),s=t(28165),c=t(14403),a=t(52322);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var d=function(e){var n=e.children;return(0,a.jsxs)(o.k,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",p:0,children:[(0,a.jsx)(s.Global,{styles:{body:{overflowY:"scroll"}}}),(0,a.jsx)(c.r,{}),n]})};function u(e){var n=function(n){return(0,a.jsx)(d,{children:(0,a.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n))})};return"getInitialProps"in e&&(n.getInitialProps=e.getInitialProps),n}var p=t(95668),f=t(5632),x=t(45847),h=t.n(x),m=t(2784),g=t(37914),j=t(96735),v=t(63601),b=t(22527),C=t(2980),y=t(55372),O=t(9734);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var w=g.v.IS_CLIENT_SIDE&&document.cookie.includes("gammaGADebug=true"),P=function(){return"production"===g.v.APPLICATION_ENVIRONMENT&&!(0,O.l6)()||w},I=function(e){var n=e.children,t=e.headerMode,i=(0,f.useRouter)();return(0,m.useEffect)(function(){if(P()){var e=function(e){(0,C.o8)(e)};return i.events.on("routeChangeComplete",e),i.events.on("hashChangeComplete",e),function(){i.events.off("routeChangeComplete",e),i.events.off("hashChangeComplete",e)}}},[i.events]),(0,a.jsxs)(o.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bg:"#EDE9E8",color:"gray.800",overflowX:"hidden",children:[P()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=".concat(C.vt)}),(0,a.jsx)(h(),{id:"gtag-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n              gtag('config', '".concat(C.vt,"', {\n                page_path: window.location.pathname,\n              });\n            ")}})]}),(0,a.jsx)(v.P,{headerMode:t}),(0,a.jsx)(o.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"flex-start",alignItems:"center",direction:"column",position:"relative",children:n}),(0,a.jsx)(j.Y,{})]})};function A(e,n){var t=function(t){var i=(n||{}).headerMode;return(0,a.jsxs)(p.f6,{theme:b.i,children:[(0,a.jsx)(y.ZP,{}),(0,a.jsx)(I,{headerMode:i,children:(0,a.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},t))})]})};return"getInitialProps"in e&&(t.getInitialProps=e.getInitialProps),t}},8661:function(e,n,t){t.d(n,{ET:function(){return i},LB:function(){return a},VN:function(){return c},VY:function(){return r},WJ:function(){return o},rj:function(){return s}});var i="/generate",r="ai-generate",o=2,s=2,c=400,a={DESIGNER__HELLO:0,USER__OUTPUT_FORMAT_INPUT:1,DESIGNER__TOPIC:2,USER__TOPIC_INPUT:3,DESIGNER__OUTLINE:4,USER__OUTLINE_INPUT:5}},55562:function(e,n,t){t.d(n,{R:function(){return C},c:function(){return y}});var i=t(20406),r=t(95235),o=t(81333),s=t(28526),c=t.n(s),a=t(55452),l=t(55479),d=t(5632),u=t(2784),p=t(23313),f=t(98875),x=t(20252),h=t(36738),m=t(95173),g=t(33295),j=t(10710),v=t(52322);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var C={example_deck_clone_toast:p.L17.DuplicateInspiration,import:p.L17.ImportGoogleDoc,blank:p.L17.Blank,template_browser:p.L17.DuplicateTemplate,get_started_modal:p.L17.Blank,template_modal_griditem:p.L17.DuplicateTemplate,template_dashboard_griditem:p.L17.DuplicateTemplate,template_modal_preview:p.L17.DuplicateTemplate,template_modal_preview_create_theme:p.L17.DuplicateTemplate,"slash-new":p.L17.SlashNew,editor_toolbar_doc_menu_duplicate:p.L17.DuplicateDoc,dashboard_docs_view_duplicate:p.L17.DuplicateDoc,ai_generated:p.L17.AiGenerated,ai_generated_advanced:p.L17.AiGenerated,sites_add_page:p.L17.SitesAddPage,sites_copy_to_site:p.L17.SitesCopyToSite},y=function(){var e=(0,j.SE)(),n=e.user,t=e.currentWorkspace,s=(0,f.ye)("cardLayoutsEnabled"),y=(0,p.CsQ)(),O=(0,o.Z)(y,2),_=O[0],w=O[1],P=w.data,I=w.loading,A=(0,d.useRouter)(),k=A.push,D=A.replace,E=(0,l.p)();return[(0,u.useCallback)(function(e){var o,l,d=null==n?void 0:null===(l=n.settings)||void 0===l?void 0:l.needsEditorOnboarding,u=e.source,p=null==e?void 0:e.channelId,f=(null==e?void 0:e.historyFn)==="replace"?D:k,j=d?"quickstart":"empty";if(!(null!=t&&t.id)){console.error("[createDocAndNavigate] No currentWorkspace found");return}var y={cardLayoutsEnabled:s},O=null!=e&&e.document?e.document:"empty"===j?(0,h.R$)(n,{docFlags:y}):(0,h.VK)(n,{docFlags:y}),w=(0,g.q)(O);return console.debug("[createDocAndNavigate] Creating doc",{document:O,encodedDocument:w}),_({variables:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({workspaceId:null==t?void 0:t.id,title:(null==e?void 0:e.title)||"",source:C[e.source],initialContent:{ydoc:w,schemaVersion:m.bI,editors:[null==n?void 0:n.id]}},p?{channels:[{channelId:p}]}:{})}).then((o=(0,i.Z)(c().mark(function e(n){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.data,(0,x.Q)({doc_id:null==t?void 0:t.createDoc.id,source:u,channel:p||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==t?void 0:t.createDoc.id),f("/docs/".concat(null==t?void 0:t.createDoc.id).concat(d?"?tour=true":""));case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})).catch(function(e){console.error("[createDocAndNavigate]",e),E({title:(0,v.jsx)(a.cC,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[s,_,null==t?void 0:t.id,k,D,E,n]),{data:P,loading:I}]}},70204:function(e,n,t){t.d(n,{p:function(){return x}});var i=t(95235),r=t(65742),o=t(54073),s=t.n(o),c=t(30764),a=t(2784),l=t(98875),d=t(46358),u=t(12691),p=t(65185);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=(0,d.TL)(),i=(0,l.ye)("cardTextComputedEnabled");(0,a.useEffect)(function(){if(n&&i){var e=s()(function(){var e={};n.state.doc.descendants(function(t,i){if((0,u.KH)(t)&&t.attrs.id){var o=t.toJSON(),s=(0,r.getCardTitle)(o),c=n.state.doc.resolve(i),a=0===c.parentOffset&&1===c.depth;e[t.attrs.id]={title:s,text:h(n.schema,o,s),isFirstCard:a}}return!0}),t((0,p.uD)({localCardTextMap:e}))},1e3,{leading:!0,trailing:!0,maxWait:1e3});return e(),n.on("update",e),function(){n.off("update",e)}}},[n,t,i]),(0,a.useEffect)(function(){e&&t((0,p.eJ)({cards:e}))},[t,e]),(0,a.useEffect)(function(){return function(){t((0,p.mc)())}},[])},h=function(e,n,t){var o,s=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n);s.content=null===(o=s.content)||void 0===o?void 0:o.map(function(e){if("card"!==e.type)return e;var n=(0,r.getCardTitle)(e);return{type:"paragraph",content:n?[{type:"text",text:n}]:[]}});var a=c.NB.fromJSON(e,s),l=a.textBetween(0,a.content.size,"\n\n",function(e){var n=e.type.name;return m[n]&&m[n](e)||" "});return t?(0,r.removeTitle)(l,t):l},m={text:function(e){return e.text},emoji:function(e){return e.attrs.native},embed:function(e){var n=e.attrs,t=n.meta,i=n.sourceUrl,r=n.url;return(null==t?void 0:t.title)||i||r||void 0},mention:function(e){return"@"+e.attrs.label},video:function(e){var n=e.attrs,t=n.meta,i=n.sourceUrl,r=n.embedUrl;return(null==t?void 0:t.title)||i||r||void 0}}},64288:function(e,n,t){t.d(n,{F3:function(){return m},c8:function(){return g}});var i=t(68769);t(10550),t(70916);var r=t(99060),o=t(95235),s=t(58678),c=t(2784),a=t(98875),l=function(e,n){var t=(0,s.rN)(),r=t.setIsOpen,o=t.setSteps,a=t.setMeta,l=t.setCurrentStep;return{startTour:(0,c.useCallback)(function(e){void 0!==e&&l(e),r(!0),a&&a(i.X.DOC_EDITOR),o&&o(n)},[l,r,a,o,n])}},d=t(1368),u=t(32333),p=t(17477),f=t(51823);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){(0,o.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var m=function(){var e=(0,a.ye)("aiChat"),n=(0,a.ye)("filmstrip"),t=(0,c.useMemo)(function(){return(0,r.aq)({aiChat:e,filmstrip:n})},[e,n]),x=(0,u.z$)(),m=l(i.X.DOC_EDITOR,t).startTour,g=(0,s.rN)().setIsOpen;(0,c.useEffect)(function(){"true"===(0,f.SJ)()[i.n]&&(0,p.u0)(t[1].selector).then(function(){m(),null==x||x.track(u.AA.DOC_EDITOR_TOUR_STARTED,{source:"queryParam"}),(0,d.lO)({query:h(h({},(0,f.SJ)()),{},(0,o.Z)({},i.n,void 0)),emitChange:!1})})},[x,m,t]),(0,c.useEffect)(function(){return function(){g(!1)}},[g])},g=function(){var e=(0,a.ye)("aiChat"),n=(0,a.ye)("filmstrip"),t=(0,c.useMemo)(function(){return(0,r.aq)({aiChat:e,filmstrip:n})},[e,n]);return{startTour:l(i.X.DOC_EDITOR,t).startTour}}},11197:function(e,n,t){t.d(n,{C:function(){return ea}});var i=t(81333),r=t(45029),o=t(27037),s=t(64256),c=t(68921),a=t(48079),l=t(58975),d=t(16686),u=t(29106),p=t(36178),f=t(55452),x=t(87254),h=t(75944),m=t(9088),g=t(30893),j=t(67887),v=t(53738),b=t(40771),C=t(91930),y=t(82904),O=t(84103),_=t(95258),w=t(49929),P=t(55966),I=t(2784),A=t(43997),k=t(23313),D=t(98875),E=t(64288),S=t(21735),R=t(20406),N=t(28526),T=t.n(N),M=t(55479),L=t(20010),G=t(56915),U=t(48273),z=t(92619),F=t(64827),Z=t(2167),W=t(2046),V=t(70287),Y=t(80353),K=t(76648),q=t(45650),$=t(62849),B=t(40315),H=t(10710),J=t(96214),X=t(18445),Q=t(52322),ee=function(e){var n,t=e.onClose,i=(0,M.p)(),r=(0,H.SE)().user,o=(0,I.useState)(!1),s=o[0],c=o[1],a=(0,H.SE)().setSettings,l=(0,J.l)(),d=(0,I.useMemo)(function(){return l},[]),u=(0,I.useState)(d),p=u[0],x=u[1];(0,X.m)(p);var h=(0,I.useCallback)((0,R.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,null==a?void 0:a({set:{locale:p}});case 4:i({title:(0,Q.jsx)(f.cC,{id:"RRo9kN"}),position:"top",status:"success",isClosable:!0,duration:3e3}),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error('[StandaloneLocaleModal.onSave] Error updating language for user with id "'.concat(null==r?void 0:r.id,'"'),e.t0.message);case 11:c(!1);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),[p,t,a,i,null==r?void 0:r.id]),m=p!==(null==r?void 0:null===(n=r.settings)||void 0===n?void 0:n.locale);return(0,Q.jsx)(P.Wk,{isDark:!1,children:(0,Q.jsxs)(L.u_,{isOpen:!0,onClose:t,children:[(0,Q.jsx)(G.Z,{}),(0,Q.jsxs)(U.h,{children:[(0,Q.jsx)(z.x,{children:(0,Q.jsx)(f.cC,{id:"+DEogc"})}),(0,Q.jsx)(F.o,{}),(0,Q.jsx)(Z.f,{children:(0,Q.jsxs)(W.NI,{children:[(0,Q.jsx)(V.l,{children:(0,Q.jsx)(f.cC,{id:"M3JKNC"})}),(0,Q.jsx)($.p,{selectedLocale:B.w$[p],onLocaleSelect:x})]})}),(0,Q.jsx)(Y.m,{children:m?(0,Q.jsxs)(K.h,{children:[(0,Q.jsx)(q.z,{variant:"ghost",onClick:t,children:(0,Q.jsx)(f.cC,{id:"dEgA5A"})}),(0,Q.jsx)(q.z,{variant:"solid",onClick:h,isLoading:s,children:(0,Q.jsx)(f.cC,{id:"tfDRzk"})})]}):(0,Q.jsx)(q.z,{variant:"plain",onClick:t,children:(0,Q.jsx)(f.cC,{id:"yz7wBu"})})})]})]})})},en=t(51746),et=t(85545),ei=t(32333),er=t(96368),eo=t(93858),es=t(17815),ec=t(88963),ea=(0,I.memo)(function(e){var n=e.showShortcuts,t=e.showTourReplay,R=(0,E.c8)().startTour,N=(0,A.I0)(),T=(0,k.$gs)().isConnected,M=(0,D.ye)("intercom"),L=(0,en.G)(),G=(0,J.l)(),U=(0,h.q)(),z=U.isOpen,F=U.onOpen,Z=U.onClose,W=(0,h.q)({id:"locale-modal"}),V=W.isOpen,Y=W.onOpen,K=W.onClose,q=(0,eo._)("hasUnreadIntercom",!1),$=(0,i.Z)(q,2),H=$[0],X=$[1],ea=(0,ei.z$)(),el=window.Intercom,ed=(0,I.useCallback)(function(){X(!1),L()},[L,X]),eu=(0,er.Yy)();return(0,I.useEffect)(function(){if(el){el("onHide",function(){N((0,et.YZ)({isOpen:!1}))});var e=setInterval(function(){document.querySelector("iframe.intercom-borderless-frame")&&X(!0)},1e3);return function(){el("hide"),clearInterval(e)}}},[N,el,X]),(0,Q.jsx)(es.H,{children:(0,Q.jsxs)(P.Wk,{isDark:eu,children:[(0,Q.jsxs)(m.v,{children:[(0,Q.jsx)(g.j,{"data-guider-highlight":"default-help-widget-activator",as:j.h,isRound:!0,position:"relative",size:"md","aria-label":x.ag._({id:"c3XJ18"}),icon:H?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(v.Cd,{position:"absolute",size:2.5,bg:"red.400",top:0,right:0}),(0,Q.jsx)(w.G,{icon:c.qm,className:"fa-beat-fade"})]}):(0,Q.jsx)(w.G,{icon:p.Ps})}),(0,Q.jsxs)(b.q,{children:[(0,Q.jsxs)(C.k,{children:[(void 0===n||n)&&(0,Q.jsx)(y.s,{onClick:F,icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:u.UF}),children:(0,Q.jsx)(f.cC,{id:"CTqTgr"})}),(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"https://gamma.app/public/Change-Log-awopg3inl2eo3b3?mode=doc#card-7l4mxahmsc10wrp",target:"_blank",icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:d.Jy}),children:(0,Q.jsx)(f.cC,{id:"3ePd3I"})}),(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"https://help.gamma.app",target:"_blank",icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:l.MY}),children:(0,Q.jsx)(f.cC,{id:"/lDBHm"})}),void 0!==t&&t&&(0,Q.jsx)(y.s,{as:O.r,_hover:{textDecoration:"none",shadow:"none"},onClick:function(){null==ea||ea.track(ei.AA.DOC_EDITOR_TOUR_STARTED,{source:"help-widget"}),R(0)},icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:a.Wx}),"data-guider-highlight":"replay-intro-tour",children:(0,Q.jsx)(f.cC,{id:"/cFTPs"})})]}),(0,Q.jsx)(_.R,{}),(0,Q.jsxs)(C.k,{children:[M&&T?(0,Q.jsx)(y.s,{icon:H?(0,Q.jsxs)(v.xu,{position:"relative",children:[(0,Q.jsx)(v.Cd,{position:"absolute",size:1.5,bg:"red.400",top:0,right:-1}),(0,Q.jsx)(w.G,{fixedWidth:!0,icon:c.qm,className:"fa-beat-fade"})]}):(0,Q.jsx)(w.G,{fixedWidth:!0,icon:s.RR}),onClick:ed,children:(0,Q.jsx)(f.cC,{id:"Bhgd0l"})}):(0,Q.jsx)(y.s,{icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:o.FU}),as:O.r,_hover:{textDecoration:"none",shadow:"none"},href:"mailto:".concat(S.p),children:(0,Q.jsx)(f.cC,{id:"A0C9La"})}),(0,Q.jsx)(_.R,{}),(0,Q.jsx)(y.s,{icon:(0,Q.jsx)(w.G,{fixedWidth:!0,icon:r.Uv}),onClick:Y,children:B.w$[G].displayName})]})]}),(0,Q.jsx)(ec.J,{isOpen:z,onClose:Z})]}),V&&(0,Q.jsx)(ee,{onClose:K})]})})});ea.displayName="DefaultHelpWidget"},17815:function(e,n,t){t.d(n,{H:function(){return f}});var i=t(95235),r=t(82269),o=t(53738),s=t(2784),c=t(9734),a=t(8812),l=t(52322),d=["children"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=(0,s.memo)(function(e){var n=e.children,t=(0,r.Z)(e,d);return(0,c.s2)()?null:(0,l.jsx)(o.xu,p(p({position:"fixed",bottom:a.ux,right:a.PU,zIndex:"overlay","data-print-hidden":!0},t),{},{children:n}))});f.displayName="HelpWidgetWrapper"},88963:function(e,n,t){t.d(n,{J:function(){return F},A:function(){return z}});var i=t(95235),r=t(13045),o=t(60239),s=t(29106),c=t(55452),a=t(77525),l=t(74642),d=t(35319),u=t(36258),p=t(27912),f=t(96530),x=t(54728),h=t(46367),m=t(53738),g=t(91333),j=t(23742),v=t(8283),b=t(50390),C=t(70091),y=t(83897),O=t(89190),_=t(73848),w=t(24798),P=t(84520),I=t(95085),A=t(49929),k=t(55966),D=t(93148),E=t(91012);t(2784);var S=t(52322),R=function(e){var n=e.prefix,t=e.support,i=e.suffix;return(0,S.jsxs)(E.x,{children:[void 0===n?"":n,(0,S.jsx)(E.x,{color:"gray.400",as:"span",children:void 0===t?"":t}),void 0===i?"":i]})},N=function(){return[{description:(0,S.jsx)(c.cC,{id:"8aebws"}),shortcut:"/"},{description:(0,S.jsx)(c.cC,{id:"JZEY8K"}),shortcut:"Mod+Shift+O"},{description:(0,S.jsx)(c.cC,{id:"3Lpas4"}),shortcut:"***"},{description:(0,S.jsx)(c.cC,{id:"e+t/xM"}),shortcut:"Mod+P"},{description:(0,S.jsx)(c.cC,{id:"MF+p5R"}),shortcut:"Mod+Enter"},{description:(0,S.jsx)(c.cC,{id:"NiZZRh"}),shortcut:"Mod+K"},{description:(0,S.jsx)(c.cC,{id:"4J90L0"}),shortcut:(0,S.jsx)(R,{prefix:"@",support:"name"})},{description:(0,S.jsx)(c.cC,{id:"1fOM5v"}),shortcut:(0,S.jsx)(R,{prefix:"@",support:"cardTitle"})}]},T=function(){return[{description:(0,S.jsx)(c.cC,{id:"MHrjPM"}),shortcut:"/title"},{description:(0,S.jsx)(c.cC,{id:"lXKZGw"}),shortcut:["#","Mod+Alt+1"]},{description:(0,S.jsx)(c.cC,{id:"El7NbA"}),shortcut:["##","Mod+Alt+2"]},{description:(0,S.jsx)(c.cC,{id:"SFN6dN"}),shortcut:["###","Mod+Alt+3"]},{description:(0,S.jsx)(c.cC,{id:"nJeKmw"}),shortcut:["####","Mod+Alt+4"]},{description:(0,S.jsx)(c.cC,{id:"yzF66j"}),shortcut:"Mod+K"},{description:(0,S.jsx)(c.cC,{id:"eFpJYL"}),shortcut:(0,S.jsx)(R,{prefix:":",support:"heart_eyes",suffix:":"})},{description:(0,S.jsx)(c.cC,{id:"KmydK6"}),shortcut:[(0,S.jsx)(R,{prefix:"*",support:"bold",suffix:"*"},"0"),"Mod+B"]},{description:(0,S.jsx)(c.cC,{id:"pzutoc"}),shortcut:[(0,S.jsx)(R,{prefix:"_",support:"italic",suffix:"_"},"0"),"Mod+I"]},{description:(0,S.jsx)(c.cC,{id:"YyXtnN"}),shortcut:"Mod+U"},{description:(0,S.jsx)(c.cC,{id:"WhOsNE"}),shortcut:"Mod+Shift+X"},{description:(0,S.jsx)(c.cC,{id:"VjjKVj"}),shortcut:"Mod+Shift+L"},{description:(0,S.jsx)(c.cC,{id:"95ckMP"}),shortcut:"Mod+Shift+E"},{description:(0,S.jsx)(c.cC,{id:"vTKw81"}),shortcut:"Mod+Shift+R"},{description:(0,S.jsx)(c.cC,{id:"Gc5apx"}),shortcut:[(0,S.jsx)(R,{prefix:"`",support:"code",suffix:"`"},"0"),"Mod+E"]},{description:(0,S.jsx)(c.cC,{id:"sFkOYO"}),shortcut:[(0,S.jsx)(R,{prefix:"$",support:"x^2",suffix:"$ "},"0"),"$$ "]},{description:(0,S.jsx)(c.cC,{id:"eKJQi9"}),shortcut:"Mod+Shift+H"},{description:(0,S.jsx)(c.cC,{id:"M3G9ZD"}),shortcut:["1. ","Mod+/","Mod+Shift+7"]},{description:(0,S.jsx)(c.cC,{id:"ynb7Kh"}),shortcut:["- ","Mod+.","Mod+Shift+8"]},{description:(0,S.jsx)(c.cC,{id:"rCIbrq"}),shortcut:["[] ","Mod+,","Mod+Shift+9"]},{description:(0,S.jsx)(c.cC,{id:"dOxPd4"}),shortcut:[(0,S.jsx)(R,{prefix:"^",support:"note",suffix:"^"},"0"),"Mod+Alt+F"]}]},M=function(){return[{description:(0,S.jsx)(c.cC,{id:"9xCxY6"}),shortcut:["←","→"]},{description:(0,S.jsx)(c.cC,{id:"6r2KAP"}),shortcut:["↑","↓"]},{description:(0,S.jsx)(c.cC,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,S.jsx)(c.cC,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,S.jsx)(c.cC,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,S.jsx)(c.cC,{id:"CgmvBu"}),shortcut:"S"},{description:(0,S.jsx)(c.cC,{id:"K0Oq/D"}),shortcut:"R"},{description:(0,S.jsx)(c.cC,{id:"CvH5f/"}),shortcut:(0,S.jsx)(m.xu,{p:0,children:(0,S.jsxs)("svg",{className:"coachbarCursor",height:"1em",viewBox:"0 0 298 380",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{className:"cursorBlinkEffect",d:"M151.8 0.60199C145.612 0.60199 140.601 5.61759 140.601 11.801V79C140.601 85.1875 145.617 90.199 151.8 90.199C157.987 90.199 162.999 85.1834 162.999 79V11.801C162.999 5.61349 157.983 0.60199 151.8 0.60199ZM52.749 41.551C49.8818 41.551 47.0615 42.6877 44.874 44.8752C40.5029 49.2502 40.5029 56.4262 44.874 60.8012L84.425 100.352C88.8 104.727 95.976 104.723 100.351 100.352C104.726 95.9772 104.722 88.8012 100.351 84.4262L60.8 44.8752C58.6125 42.6877 55.6162 41.551 52.749 41.551ZM250.849 41.551C247.982 41.551 244.986 42.6877 242.798 44.8752L203.247 84.4262C198.876 88.8012 198.872 95.9772 203.247 100.352C207.622 104.723 214.798 104.727 219.173 100.352L258.724 60.8012C263.095 56.4262 263.095 49.2502 258.724 44.8752C256.537 42.6877 253.716 41.551 250.849 41.551ZM11.789 140.602C5.6015 140.602 0.589996 145.618 0.589996 151.801C0.589996 157.988 5.6056 163 11.789 163H78.988C85.1755 163 90.187 157.984 90.187 151.801C90.187 145.613 85.1714 140.602 78.988 140.602H11.789ZM92.465 199.926C89.5978 199.926 86.6017 201.063 84.4142 203.25L44.8632 242.801C40.4921 247.176 40.4921 254.352 44.8632 258.727C49.2382 263.102 56.4142 263.102 60.7892 258.727L100.34 219.176C104.711 214.801 104.715 207.625 100.34 203.25C98.1527 201.063 95.3322 199.926 92.465 199.926Z",fill:"black"}),(0,S.jsx)("path",{d:"M289.317 291.063H237.601L264.819 357.2C266.715 361.785 264.548 366.926 260.215 368.872L236.247 379.292C231.779 381.237 226.768 379.014 224.873 374.568L199.009 311.766L156.761 355.116C151.13 360.892 142 356.439 142 348.864V139.899C142 131.923 151.711 128.035 156.76 133.647L295.411 275.918C301.003 281.355 296.877 291.063 289.317 291.063V291.063Z",fill:"black"})]})},"cursor")}]};function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U={borderColor:"gray.100",py:2,px:2},z=function(e){var n=e.list;return(0,S.jsx)(a.x,{w:"100%",children:(0,S.jsx)(l.i,{variant:"simple",children:(0,S.jsx)(d.p,{children:n.map(function(e,n){var t=e.shortcut,i=e.description;return(0,S.jsxs)(u.Tr,{children:[(0,S.jsx)(p.Td,G(G({w:"60%"},U),{},{children:i})),(0,S.jsx)(p.Td,G(G({w:"40%"},U),{},{children:Array.isArray(t)?t.map(function(e,n){return(0,S.jsx)(f.T,{display:"inline-block",px:2,py:1,mr:1,children:"string"==typeof e?(0,k.cE)(e):e},n)}):"string"==typeof t?(0,S.jsx)(f.T,{display:"inline-block",px:2,py:1,children:(0,k.cE)(t)}):(0,S.jsx)(f.T,{display:"inline-block",px:2,py:1,children:t})}))]},n)})})})})},F=function(e){var n=e.isOpen,t=e.onClose,i=(0,D.A)(T),a=(0,D.A)(M),l=(0,D.A)(N);return(0,S.jsxs)(x.J,{returnFocusOnClose:!1,closeOnBlur:!1,placement:"top",isOpen:n,onClose:t,modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}}],children:[(0,S.jsx)(h.t,{children:(0,S.jsx)(m.xu,{position:"fixed",bottom:0,right:0})}),(0,S.jsxs)(g.y,{zIndex:"menu",h:"80vh",w:"400px",flex:1,position:"relative",children:[(0,S.jsxs)(j.Y,{border:"0 none",mb:2,position:"sticky",bgColor:"white",children:[(0,S.jsxs)(v.U,{spacing:2,children:[(0,S.jsx)(A.G,{icon:s.UF}),(0,S.jsx)(b.X,{size:"md",children:(0,S.jsx)(c.cC,{id:"CTqTgr"})})]}),(0,S.jsx)(C.u,{})]}),(0,S.jsx)(y.b,{overflowY:"auto",children:(0,S.jsxs)(O.m,{variant:"soft-rounded",size:"sm",isFitted:!0,children:[(0,S.jsxs)(_.t,{mb:6,children:[(0,S.jsxs)(w.O,{children:[(0,S.jsx)(m.xu,{mr:2,children:(0,S.jsx)(A.G,{icon:o.Tz})}),(0,S.jsx)(c.cC,{id:"vVRhxh"})]}),(0,S.jsxs)(w.O,{children:[(0,S.jsx)(m.xu,{mr:2,children:(0,S.jsx)(A.G,{icon:r.r0})}),(0,S.jsx)(c.cC,{id:"UodEcE"})]})]}),(0,S.jsxs)(P.n,{children:[(0,S.jsxs)(I.x,{p:0,pb:1,mt:4,children:[(0,S.jsx)(z,{list:l}),(0,S.jsx)(k.NZ,{pt:4,pb:4,children:(0,S.jsx)(c.cC,{id:"Bb47jg"})}),(0,S.jsx)(z,{list:i})]}),(0,S.jsx)(I.x,{p:0,pb:1,mt:4,children:(0,S.jsx)(z,{list:a})})]})]})})]})]})}},8812:function(e,n,t){t.d(n,{PU:function(){return i},Ro:function(){return o},ux:function(){return r}});var i=4,r=4,o={mr:4,width:"auto",outline:"0",shadow:"lg",_focus:{outline:"none"}}},62849:function(e,n,t){t.d(n,{p:function(){return v}});var i=t(26673),r=t(11919),o=t(9088),s=t(30893),c=t(45650),a=t(40771),l=t(63849),d=t(2575),u=t(91012),p=t(93319),f=t(4036),x=t(49929),h=t(55452),m=t(98875),g=t(40315),j=t(52322),v=function(e){var n=e.selectedLocale,t=e.onLocaleSelect,v=(0,m.ye)("i18nEnabled");return(0,h.mV)(),(0,j.jsx)(r.k,{direction:"column",children:(0,j.jsxs)(o.v,{matchWidth:!0,children:[(0,j.jsx)(s.j,{as:c.z,rightIcon:(0,j.jsx)(x.G,{size:"xs",icon:i.pt}),minW:"150px",textAlign:"left",w:"100%",children:n.displayName}),(0,j.jsx)(a.q,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,j.jsx)(l._,{value:n.key,type:"radio",onChange:function(e){t(e)},children:(0,g.DD)(v).map(function(e){var n=!v&&"private_beta"===g.kf[e.key],t=!n&&"public_beta"===g.kf[e.key];return(0,j.jsx)(d.i,{value:e.key,isDisabled:n,children:(0,j.jsxs)(r.k,{flex:1,alignItems:"center",children:[(0,j.jsxs)(r.k,{direction:"column",children:[(0,j.jsx)(u.x,{children:e.displayName}),(0,j.jsx)(u.x,{fontSize:"12px",color:"gray.500",children:e.displayNameLocalized()})]})," ",(0,j.jsx)(p.L,{}),n?(0,j.jsx)(f.C,{ml:2,fontSize:"0.75em",colorScheme:"blue",children:(0,j.jsx)(h.cC,{id:"VZeG/A"})}):t?(0,j.jsx)(f.C,{ml:2,fontSize:"0.75em",colorScheme:"green",children:(0,j.jsx)(h.cC,{id:"YBt9YP"})}):null]})},e.key)})})})]})})}},18445:function(e,n,t){t.d(n,{m:function(){return s}});var i=t(2784),r=t(46358),o=t(66737),s=function(e){var n=(0,r.TL)();(0,i.useEffect)(function(){n((0,o.ZT)({locale:e||null}))},[e]),(0,i.useEffect)(function(){return function(){n((0,o.ZT)({locale:null}))}},[])}},86379:function(e,n,t){t.d(n,{C:function(){return h}});var i=t(55452),r=t(20010),o=t(56915),s=t(48273),c=t(92619),a=t(64827),l=t(2167),d=t(91012),u=t(80353),p=t(71354),f=t(45650),x=t(52322),h=function(e){var n=e.invitationCount,t=e.isOpen,h=e.onClose,m=e.onSendInvitationsClick,g=e.onDiscardClick;return t?(0,x.jsxs)(r.u_,{returnFocusOnClose:!1,onClose:h,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.h,{children:[(0,x.jsx)(c.x,{children:(0,x.jsx)(i.cC,{id:"tW/kB6",values:{invitationCount:n}})}),(0,x.jsx)(a.o,{}),(0,x.jsx)(l.f,{children:(0,x.jsx)(d.x,{children:(0,x.jsx)(i.cC,{id:"qxNK2k",values:{invitationCount:n}})})}),(0,x.jsx)(u.m,{children:(0,x.jsxs)(p.K,{spacing:2,direction:"row",align:"center",children:[(0,x.jsx)(f.z,{onClick:g,children:(0,x.jsx)(i.cC,{id:"bzSI52"})}),(0,x.jsx)(f.z,{variant:"solid",onClick:m,children:(0,x.jsx)(i.cC,{id:"6dWGPZ",values:{invitationCount:n}})})]})})]})]}):null}},96735:function(e,n,t){t.d(n,{Y:function(){return m}});var i=t(11919),r=t(56133),o=t(71354),s=t(5766),c=t(53738),a=t(84103),l=t(36895),d=t(50390),u=t(35837),p=t(27302),f=t(51746),x=t(51810),h=t(52322),m=function(){var e,n=(e=(0,f.G)(),[{category:"Product",items:[{text:"Help",url:x.mc.help},{text:"Change log",url:x.mc.changeLog},{text:"Pricing",url:x.mc.pricing},{text:"Templates",url:x.mc.templates},{text:"Inspiration",url:x.mc.inspiration},{text:"Contact us",onClick:e}]},{category:"Company",items:[{text:"Team",url:x.mc.team},{text:"Terms of Service",url:x.mc.terms},{text:"Privacy Policy",url:x.mc.privacy}]},{category:"Follow us",items:[{text:"Twitter",url:"https://twitter.com/meetgamma"},{text:"Instagram",url:"https://www.instagram.com/meetgamma/"},{text:"LinkedIn",url:"https://www.linkedin.com/company/gamma-app/"},{text:"TikTok",url:"https://www.tiktok.com/@meetgamma"}]}]);return(0,h.jsx)(i.k,{fontSize:"12px",bgColor:"#1d0042",color:"gray.400",py:20,id:"footer",justifyContent:"center",children:(0,h.jsx)(r.W,{maxW:"940px",children:(0,h.jsxs)(o.K,{children:[(0,h.jsxs)(s.M,{columns:4,spacing:6,mb:10,minChildWidth:"200px",children:[(0,h.jsx)(c.xu,{w:"100%",children:(0,h.jsx)(a.r,{href:"/",children:(0,h.jsx)(l.E,{src:"https://assets.website-files.com/60de2701a7b28f308f619d3d/60de2701a7b28ff7e9619d49_White%20Logo%20g%20spot.svg",loading:"lazy",width:"120px",alt:"Gamma logo"})})}),n.map(function(e,n){var t=e.category,i=e.items;return(0,h.jsxs)(c.xu,{w:"100%",children:[(0,h.jsx)(d.X,{marginBottom:"25px",color:"rgba(239, 208, 255, 0.7)",fontWeight:"bold",fontSize:"14px",fontFamily:"var(--body-font)",letterSpacing:"normal",children:t}),(0,h.jsx)(u.QI,{listStyleType:"none",margin:0,children:i.map(function(e,n){var t=e.text,i=e.url,r=e.onClick;return(0,h.jsx)(u.HC,{fontSize:"14px",pb:4,children:(0,h.jsx)(a.r,{color:"hsla(0, 0%, 100%, 0.86)",href:i||void 0,onClick:r||void 0,children:t})},n)})})]},n)})]}),(0,h.jsxs)(p.M,{color:"rgba(239, 208, 255, 0.7)",fontSize:"13px",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})})})}},63601:function(e,n,t){t.d(n,{P:function(){return x}});var i=t(53738),r=t(71354),o=t(84103),s=t(36895),c=t(93319),a=t(45650),l=t(10710),d={src:"/_next/static/media/gamma-logo-white.9613e68b.svg"},u=t(51810),p=t(52322),f=[{text:"Pricing",url:u.mc.pricing,hideWhenSmall:!0},{text:"Templates",url:u.mc.templates,hideWhenSmall:!0},{text:"Login",url:u.mc.login}],x=function(e){var n=e.headerMode,t=(0,l.SE)(),x=t.user,h=t.isUserLoading,m="light"===(void 0===n?"light":n);return(0,p.jsx)(i.xu,{py:4,px:[6,6,12],h:u.AP,pr:[4,6,12],zIndex:"999",top:["auto","auto","0"],children:(0,p.jsxs)(r.K,{direction:"row",children:[(0,p.jsx)(o.r,{href:"/","aria-current":"page",children:(0,p.jsx)(s.E,{w:"100px",src:m?"https://assets.website-files.com/62e823626cd4fdd0e5dc1527/62e823626cd4fdc26bdc1576_Gamma.svg":d.src,loading:"lazy",alt:"Gamma logo"})}),(0,p.jsx)(c.L,{}),!h&&!x&&(0,p.jsxs)(r.K,{direction:"row",spacing:[4,4,8],fontWeight:"500",fontSize:"14px",color:m?"#3b3a40":"#fff",alignItems:"center",transition:"color 300ms ease",children:[f.map(function(e){var n=e.text,t=e.url,i=e.hideWhenSmall;return(0,p.jsx)(o.r,{display:i?["none","none","block"]:"block",href:t,color:m?void 0:"whiteAlpha.800",_hover:{color:m?"#000":"whiteAlpha.900",textDecoration:"none"},children:n},n)}),(0,p.jsx)(a.z,{as:o.r,href:u.mc.signup,maxHeight:"32px",borderStyle:"solid",borderWidth:"0.5px",fontSize:"14px",borderColor:"rgba(0, 0, 0, 0.24)",backgroundColor:"#fff",boxShadow:"0 4px 4px 0 rgb(0 0 0 / 5%)",fontWeight:"700",borderRadius:"100px",color:"#3b3a40",_hover:{color:"black",textDecoration:"none"},children:"Try for free"})]})]})})}},51810:function(e,n,t){t.d(n,{AP:function(){return r},mc:function(){return i}});var i={pricing:"/pricing",help:"https://help.gamma.app",changeLog:"https://gamma.app/public/Change-Log-awopg3inl2eo3b3",team:"https://gamma.app/public/Meet-the-Team-at-Gamma-nbqgqy05eyfcsbi",terms:"https://gamma.app/terms",privacy:"https://gamma.app/privacy",login:"/signin",signup:"/signup",templates:"/templates",inspiration:"/inspiration"},r=16},22527:function(e,n,t){t.d(n,{i:function(){return c}});var i=t(14446),r=t(45989),o=t(55966),s={colors:o.qZ.colors,zIndices:{tooltip:5600,modal:1800,dropdown:1600},fonts:{body:"'Eudoxus Sans', sans-serif",heading:"'p22-mackinac-pro', sans-serif"},fontSizes:{xxs:"11px"},components:{Link:{baseStyle:{textDecoration:"none"}},Button:{variants:{fancy:{color:"white",borderRadius:"full",background:"linear-gradient(180deg, #6850FF 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #003DD9 0.18%, #6850FF 109.19%, #DF7A6C 188.8%)",border:"1px solid rgba(255, 255, 255, 0.12)",_hover:{background:"linear-gradient(180deg, #3A24C2 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #002C9D 0.18%, #6850FF 109.19%, #DF7A6C 188.8%, #A56057 224.56%)"},_active:{boxShadow:"inset 1px 1px 5px rgb(0 0 0 / 50%)",background:"linear-gradient(180deg, #3A24C2 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #002C9D 0.18%, #6850FF 109.19%, #DF7A6C 188.8%, #A56057 224.56%)"},textDecoration:"none !important"}}},Heading:{baseStyle:{letterSpacing:"-0.04em"},variants:{fancy:{backgroundImage:o.qZ.colors.gradient["blue-to-purple"],backgroundClip:"text",color:"transparent"}}}}},c=(0,i.B1)(s,(0,r.A)({colorScheme:"trueblue"}))},2980:function(e,n,t){t.d(n,{o8:function(){return r},vt:function(){return i}});var i=t(37914).v.NEXT_PUBLIC_GA_ID,r=function(e){var n,t;null===(n=(t=window).gtag)||void 0===n||n.call(t,"config",i,{page_path:e})}},51331:function(e,n,t){t.d(n,{R4:function(){return i.R},uL:function(){return r.uL},dU:function(){return r.dU},Y:function(){return r.Y},_O:function(){return r._O},Yt:function(){return r.Yt},hA:function(){return r.hA}}),t(58688);var i=t(19529),r=t(74586)},20252:function(e,n,t){t.d(n,{J:function(){return s},Q:function(){return o}});var i=t(32333),r=t(78308),o=function(e){var n=e.doc_id,t=e.source,o=e.source_doc_id,s=e.channel;null===i.co||void 0===i.co||i.co.track(r.AA.DOC_CREATED,{doc_id:n,source_doc_id:o,source:t,channel:s})},s=function(e){var n=e.docId,t=e.type,o=e.source;if(!n){console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");return}null===i.co||void 0===i.co||i.co.track(r.AA.DOC_SHARELINK_COPIED,{doc_id:n,source:o,type:t})}},52596:function(e,n,t){t.d(n,{V:function(){return h}});var i=t(55452),r=t(71354),o=t(8283),s=t(91012),c=t(4036),a=t(93319),l=t(71193),d=t(91354),u=t(75085),p=t(51331),f=t(82483),x=t(52322),h=function(e){var n=e.onClose,t=e.onOpen,h=e.segmentEvent,m=e.doc,g=e.label,j=(0,d.y)("upsellUXEnabled_Pro"),v=(0,p.dU)(null==m?void 0:m.organization),b=(0,f.zc)().openUpsellModal;return!1===v&&j?(0,x.jsxs)(r.K,{my:4,borderTop:"1px solid var(--chakra-colors-gray-100)",w:"100%",children:[(0,x.jsxs)(o.U,{mt:4,children:[(0,x.jsxs)(o.U,{children:[(0,x.jsx)(s.x,{children:g||(0,x.jsx)(i.cC,{id:"alnKae",values:{GAMMA_PROPER_NOUN:u.N6}})}),(0,x.jsx)(c.C,{colorScheme:"trueblue",variant:"solid",children:u.k3})]}),(0,x.jsx)(a.L,{}),(0,x.jsx)(l.r,{onClickCapture:function(e){e.preventDefault(),b({onOpenCallback:n,onCloseCallback:t,segmentEvent:h})},checked:!1})]}),(0,x.jsx)(s.x,{fontSize:"xs",color:"gray.600",children:(0,x.jsx)(i.cC,{id:"/BIHRF",values:{GAMMA_PROPER_NOUN:u.N6}})})]}):null}},15241:function(e,n,t){t.d(n,{L:function(){return v}});var i=t(95235),r=t(89177),o=t(27037),s=t(55452),c=t(11919),a=t(13061),l=t(8283),d=t(12221),u=t(91012),p=t(53738),f=t(49929),x=t(55966),h=t(7985);t(16092);var m=t(52322);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var v=function(e){var n=e.selectedCollaborator,t=e.idx,i=e.handleRemoveClick,g=n&&(0,h.G)((null==n?void 0:n.email)||""),v=0===t?170:300;return(0,m.jsx)(c.k,{width:0===t?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(n.email),children:(0,m.jsxs)(a.Vp,j(j({size:"md",minW:110},g?{}:{colorScheme:"red",bg:"red",color:"white"}),{},{children:["id"in n?(0,m.jsx)(x.kH,{label:n.email,"aria-label":n.email,children:(0,m.jsxs)(l.U,{children:[(0,m.jsx)(d.q,{size:"2xs",m:0,name:n.displayName,src:n.profileImageUrl}),(0,m.jsx)(u.x,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:v,lineHeight:"1.5",children:n.displayName})]})}):(0,m.jsx)(x.kH,{label:g?n.email:(0,m.jsx)(s.cC,{id:"XILg0L"}),"aria-label":n.email,children:(0,m.jsxs)(l.U,{flex:1,children:[(0,m.jsx)(p.Cd,{bg:g?"trueblue.100":"none",size:6,children:(0,m.jsx)(f.G,{icon:g?o.FU:r.WV})}),(0,m.jsx)(u.x,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:v,lineHeight:"1.5",children:n.email})]})}),(0,m.jsx)(a.SD,{onClick:i})]}))},"id"in n?n.id:n.email)}},35330:function(e,n,t){t.d(n,{y:function(){return o}});var i=t(75944),r=t(2784),o=function(){var e=(0,i.q)({id:"sharePanelDisclosure"}),n=e.isOpen,t=e.onOpen,o=e.onClose,s=(0,r.useState)("invite");return{isSharePanelOpen:n,onSharePanelOpen:t,onSharePanelClose:o,view:s[0],setView:s[1]}}},41864:function(e,n,t){t.d(n,{Nj:function(){return nb},t9:function(){return nC},o$:function(){return nk},aA:function(){return nX},WQ:function(){return tn}});var i,r,o,s=t(92743),c=t(55452),a=t(20010),l=t(56915),d=t(48273),u=t(92619),p=t(53738),f=t(64827),x=t(40110),h=t(2167),m=t(71354),g=t(81927),j=t(85982),v=t(45650),b=t(4036),C=t(80353),y=t(11919),O=t(93319),_=t(49929),w=t(55966),P=t(2784),I=t(23313),A=t(30118),k=t(51331),D=t(16092),E=t(92779),S=t(95235),R=t(20406),N=t(81333),T=t(49626),M=t(46973),L=t(28526),G=t.n(L),U=t(29705),z=t(55479),F=t(91012),Z=t(84103),W=t(76360),V=t(75342),Y=t(8283),K=t(36895),q=t(67904),$=t(37164),B=t(5632),H=t(24021),J=t(75085),X=t(32333),Q=t(42879),ee=t(10710),en=t(52322);function et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function ei(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?et(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):et(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var er=function(e){var n,t=e.title,i=e.site,r="/".concat((0,q.IR)(t||"untitled"));return null!=i&&null!==(n=i.routes)&&void 0!==n&&n.find(function(e){return e.path===r})&&(r="".concat(r,"-").concat((0,$.x0)(6))),r},eo={variant:"outline",transitionProperty:"all",transitionDuration:"normal",cursor:"pointer",boxShadow:"none",tabIndex:0,_hover:{shadow:"lg",borderColor:"trueblue.300",bg:"trueblue.50"},_focusVisible:{boxShadow:"none",outline:"none"},_focus:{boxShadow:"outline"}},es=function(e){var n,t=e.doc,i=e.onCreateSiteClick,r=(0,X.z$)(),o=(0,I.So6)(),s=(0,N.Z)(o,1)[0],a=(0,ee.SE)().currentWorkspace,l=(0,I.qbt)(),d=(0,N.Z)(l,1)[0],u=(0,P.useState)(!1),p=u[0],f=u[1],h=(0,I.bBo)({variables:{workspaceId:null==a?void 0:a.id},skip:!(null!=a&&a.id)}),g=h.data,j=h.loading,v=(0,z.p)(),b=(0,B.useRouter)().push,C=null==g?void 0:g.sites,w=(0,P.useCallback)((n=(0,R.Z)(G().mark(function e(n){var i,o,l;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),i=null==C?void 0:C.find(function(e){return e.id===n}),o=t.id,null!=a&&a.id){e.next=6;break}return console.error("[CopyToSiteModal] No currentWorkspace found"),e.abrupt("return");case 6:return l=er({title:t.title,site:i}),e.next=9,(0,Q.iL)(o);case 9:s({variables:{duplicateDocInput:{sourceDocId:o,source:I.L17.SitesCopyToSite,title:t.title,orgId:null==a?void 0:a.id,orgAccess:I.y3$.Manage,themeId:null}}}).then(function(e){var t,i=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.duplicateDoc.id;if(!i){console.error("[CopyToSiteModal] No docId found");return}null==r||r.track(X.AA.DOC_COPIED_TO_SITE,{doc_id:o,site_id:n,source:I.L17.SitesCopyToSite}),d({variables:{input:{siteId:n,docId:i,path:l}},refetchQueries:["GetSite"]}).then(function(){var e=(0,Q.as)(n,i);console.debug("[CopyToSiteModal] Doc added to site. Adding route then navigating to editor",o),v({position:"top",title:(0,en.jsx)(c.cC,{id:"oMgC5V"}),description:(0,en.jsx)(c.cC,{id:"/qBkEJ"}),status:"success",duration:5e3}),b(e)}).catch(function(e){v({position:"top",title:"Error",description:e.message,status:"error",duration:5e3}),f(!1)}).finally(function(){f(!1)})}).catch(function(e){v({position:"top",title:"Error",description:e.message,status:"error",duration:5e3}),f(!1)});case 10:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[r,null==a?void 0:a.id,t.id,t.title,s,b,d,C,v]),A=j||p;return(0,en.jsxs)(en.Fragment,{children:[A&&(0,en.jsx)(y.k,{w:"100",h:"400px",maxH:"30vh",children:(0,en.jsx)(H.AA,{})}),!A&&(0,en.jsxs)(m.K,{spacing:4,children:[(0,en.jsxs)(m.K,{pt:2,pb:2,children:[(0,en.jsx)(F.x,{fontSize:"sm",letterSpacing:"normal",color:"gray.600",fontWeight:"500",children:(0,en.jsx)(c.cC,{id:"g3e5hy",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})})," ",(0,en.jsxs)(F.x,{fontSize:"xs",letterSpacing:"normal",color:"gray.600",fontWeight:"500",children:[(0,en.jsx)(c.cC,{id:"Fdj1VM",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc},components:{0:(0,en.jsx)("strong",{})}}),(0,en.jsxs)(Z.r,{href:"https://help.gamma.app/en/articles/8429268-how-to-publish-your-page-to-a-custom-domain",textDecoration:"underline",isExternal:!0,color:"trueblue.500",children:[(0,en.jsx)(c.cC,{id:"Px95UX"}),(0,en.jsx)(U.h,{mx:"2px"})]})," "]})]}),C&&C.length>0&&(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(F.x,{fontSize:"sm",letterSpacing:"normal",color:"gray.600",fontWeight:"500",children:(0,en.jsx)(c.cC,{id:"KTpbiY",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})}),null==C?void 0:C.map(function(e){return(0,en.jsx)(W.Z,ei(ei({onClick:function(){return w(e.id)},onKeyPress:function(n){"Enter"===n.key&&w(e.id)}},eo),{},{children:(0,en.jsx)(V.e,{children:(0,en.jsxs)(Y.U,{children:[(0,en.jsx)(m.K,{spacing:0,children:(0,en.jsxs)(Y.U,{children:[e.faviconUrl&&(0,en.jsx)(K.E,{w:"4",src:e.faviconUrl}),(0,en.jsx)(F.x,{fontWeight:"600",children:e.name})]})}),(0,en.jsx)(O.L,{}),(0,en.jsx)(_.G,{icon:M.eF})]})})}),e.id)}),(0,en.jsxs)(Y.U,{children:[(0,en.jsx)(x.i,{}),(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.500",children:(0,en.jsx)(c.cC,{id:"ZAVklK"})}),(0,en.jsx)(x.i,{})]})]}),(0,en.jsx)(W.Z,ei(ei({onClick:function(){i()},onKeyPress:function(e){"Enter"===e.key&&i()}},eo),{},{children:(0,en.jsx)(V.e,{children:(0,en.jsxs)(Y.U,{children:[(0,en.jsxs)(m.K,{spacing:0,children:[(0,en.jsx)(F.x,{fontWeight:"600",children:(0,en.jsx)(c.cC,{id:"31WSA3"})}),(0,en.jsx)(Y.U,{children:(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.500",children:(0,en.jsx)(c.cC,{id:"zz0nEd",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})})})]}),(0,en.jsx)(O.L,{}),(0,en.jsx)(_.G,{icon:T.r8})]})})}))]})]})},ec=t(27901),ea=t(9734),el=t(31145),ed=t(18992),eu=t(59637),ep=t(94659),ef=t(98875),ex=t(78308),eh=t(12741),em=t(75652),eg=t.n(em),ej=t(37914),ev=t(46358),eb=t(62141),eC=(i=(0,R.Z)(G().mark(function e(n,t,i){var r;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(ej.v.API_HOST||"","/export/docs/").concat(n,"/").concat(i),e.abrupt("return",fetch(r,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":ej.v.SHARE_TOKEN||""},body:JSON.stringify({docContent:t})}));case 2:case"end":return e.stop()}},e)})),function(e,n,t){return i.apply(this,arguments)}),ey=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",r=(0,z.p)(),o=(0,P.useRef)(null),s=(0,X.z$)(),a=(0,P.useState)(!1),l=a[0],d=a[1],u=(0,P.useCallback)(function(){o.current=r({id:"export-toast-".concat(e.id,"-").concat(i),isClosable:!1,position:"top",duration:null,status:"loading",variant:"light",title:(0,en.jsx)(c.cC,{id:"eJOEBy"})})},[null==e?void 0:e.id,r,i]),p=(0,P.useCallback)(function(){o.current&&r.update(o.current,{status:"loading",variant:"light",title:(0,en.jsx)(c.cC,{id:"eJOEBy"}),description:(0,en.jsx)(c.cC,{id:"vMANwD"}),isClosable:!0})},[r,i]),f=(0,P.useCallback)(function(){o.current&&r.update(o.current,{title:(0,en.jsx)(c.cC,{id:"walT1X"}),status:"error",duration:null,isClosable:!0})},[r]),x=(0,P.useCallback)(function(e){o.current&&r.update(o.current,{status:"success",title:(0,en.jsx)(c.cC,{id:"pK8dQg"}),description:(0,en.jsx)(F.x,{children:(0,en.jsx)(c.cC,{id:"MTtTC2",components:{0:(0,en.jsx)(Z.r,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:function(){return o.current&&r.close(o.current)}})}})}),isClosable:!0})},[r,i]);return{handleExport:(0,P.useCallback)(function(){var r,o=null==t?void 0:t.getJSON();d(!0),u();var c=setTimeout(p,3e4);eC(e.id,o,i).then((r=(0,R.Z)(G().mark(function t(r){var o,c,a,l,d,u;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.blob();case 2:if(c=t.sent,r.ok){t.next=5;break}throw Error("Export failed.");case 5:a="pdf"===i?X.AA.PDF_EXPORTED:X.AA.PPTX_EXPORTED,null==s||s.track(a,{doc_id:e.id,source:n}),x(decodeURIComponent(r.headers.get("x-gamma-download-url")||"")||void 0),l=window.URL.createObjectURL(c),d=document.createElement("a"),u=decodeURIComponent((null===(o=(r.headers.get("Content-Disposition")||"").split(";").find(function(e){return e.includes("filename=")}))||void 0===o?void 0:o.replace("filename=","").trim())||"".concat(e.id,".").concat(i)),d.download=u,d.href=l,d.style.display="none",document.body.appendChild(d),d.click(),d.remove();case 17:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)})).catch(function(){f()}).finally(function(){d(!1),clearTimeout(c)})},[s,null==e?void 0:e.id,t,n,i,f,u,p,x]),exportInProgress:l}},eO=function(e){var n=(0,ev.CG)(eb.Pu),t=e.theme||n;return(0,P.useMemo)(function(){var e=t.fonts?(0,eh.Z)(t.fonts):[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),eg()(e).map(function(e){var n;return null!==(n=e.url)&&void 0!==n&&n.includes("fonts.googleapis.com")?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(function(e){return!!e})},[t])},e_=t(2875),ew=t(64457),eP=t(52596),eI=function(e){var n=e.doc,t=e.editor,i=e.onSharePanelOpen,r=e.onSharePanelClose,o=(0,ef.ye)("pptExport");return(0,en.jsxs)(ep.g,{spacing:4,align:"start",pt:2,children:[(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.600",children:(0,en.jsx)(c.cC,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})}),(0,en.jsxs)(m.K,{spacing:2,width:"100%",children:[(0,en.jsx)(ek,{format:"pdf",label:"PDF",icon:eu.gS,accentColor:"red",doc:n,editor:t}),o&&(0,en.jsx)(ek,{format:"pptx",label:"PowerPoint",icon:ed.WO,accentColor:"orange",doc:n,editor:t})]}),o&&(0,en.jsx)(eA,{doc:n}),t&&(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.600",children:(0,en.jsx)(c.cC,{id:"8LhjM/",components:{0:(0,en.jsx)(v.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:function(){r(),e_.pw.emit(e_.TI.OPEN_PAGE_SETUP,"cards")}})}})}),(0,en.jsx)(eP.V,{onClose:r,onOpen:i,segmentEvent:ex.AA.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:n})]})},eA=function(e){var n=eO(e.doc);return n.length?(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.600",children:(0,en.jsx)(c.cC,{id:"5qYpE7"})}),(0,en.jsx)(Y.U,{children:n.map(function(e){var n=e.name,t=e.url;return(0,en.jsx)(p.xu,{border:"1px",borderColor:"gray.200",borderRadius:"md",h:"auto",_hover:t?{boxShadow:"var(--chakra-shadows-md)",borderColor:"var(--chakra-colors-trueblue-300)",color:"var(--chakra-colors-trueblue-400)"}:{},onClick:t?function(){return window.open(t,"_blank")}:void 0,cursor:t?"pointer":void 0,children:(0,en.jsxs)(Y.U,{p:3,paddingRight:4,spacing:4,children:[(0,en.jsx)(F.x,{fontWeight:"medium",children:n}),t&&(0,en.jsx)(_.G,{icon:el.faArrowUpRightFromSquare,size:"1x"})]})},"name")})})]}):null},ek=function(e){var n=e.format,t=e.doc,i=e.editor,r=e.icon,o=e.accentColor,s=e.label,a=e.badge,l=ey(t,"share_panel",i,n),d=l.handleExport,u=l.exportInProgress;return(0,en.jsx)(ew.j,{onClick:d,icon:r,formatLabel:s,accentColor:o,exportInProgress:u,exportInProgressNote:(0,en.jsx)(c.cC,{id:"57bp6s"}),badge:a})},eD=t(11446),eE=t(47299),eS=t(3851),eR=t(59195),eN=t(61751),eT=t(40130),eM=t(27037),eL=t(52622),eG=(t(98683),t(87254)),eU=t(49747),ez=(t(97907),t(50390)),eF=t(72360),eZ=t(48322),eW=t(12221),eV=t(1842),eY=t.n(eV),eK=t(97442),eq=t(93148),e$=t(9846),eB=t(20252),eH=t(98666),eJ=t(93858),eX=t(51823),eQ=t(49392),e0=t(34396),e1=t(19911),e2=function(e){var n=e.icon,t=e.showDisabled,i=void 0!==t&&t;return(0,en.jsx)(p.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:8,opacity:i?.5:1,children:i?(0,en.jsxs)("span",{className:"fa-stack",children:[(0,en.jsx)(_.G,{icon:e1.u6,className:"fa-stack-1x"}),(0,en.jsx)(_.G,{icon:n,className:"fa-stack-1x"})]}):(0,en.jsx)(_.G,{size:"1x",icon:n})})},e5=function(e){var n=e.channel,t=e.doc,i=e.isDisabled,r=e.showDisabledIcon,o=void 0!==r&&r,s=(0,e0.Z)().removeDocChannel,a=(0,P.useCallback)(function(){t&&s(t,n.id)},[n.id,t,s]),l=(0,eX.j)({slug:n.slug,id:n.id});return(0,en.jsxs)(Y.U,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(n.id),children:[(0,en.jsx)(p.xu,{children:(0,en.jsxs)(y.k,{alignItems:"center",children:[(0,en.jsx)(e2,{icon:D.Ty,showDisabled:o}),(0,en.jsx)(p.xu,{ml:3,opacity:o?.5:1,children:(0,en.jsx)(Z.r,{href:l,target:"_blank",children:n.name})})]})}),(0,en.jsx)(v.z,{size:"sm",variant:"ghost",colorScheme:"red",onClick:a,isDisabled:i,children:(0,en.jsx)(c.cC,{id:"t/YqKh"})})]},n.id)},e3=t(46949),e4=t(76648),e9=t(21891),e8=t(420),e6=t(35316),e7=t(90113),ne=t(38421),nn=t.n(ne),nt=function(e){var n=e.workspaceId,t=e.docId,i=e.existingChannels,r=e.isDisabled,o=(0,P.useRef)(null),s=(0,P.useState)(""),a=s[0],l=s[1],d=(0,P.useState)([]),u=d[0],f=d[1],x=(0,P.useState)(!1),h=x[0],g=x[1],j=(0,e0.Z)().addDocChannel,v=(0,I.Kce)({variables:{query:a,workspaceId:n},skip:!a}),b=v.data,C=v.loading;(0,P.useEffect)(function(){if(!C&&b){var e=b.search.filter(Boolean);f(e),g(0===e.length)}},[b,C]);var O=(0,P.useMemo)(function(){return a?u.filter(function(e){return!i.find(function(n){return n.id===e.id})}):[]},[i,a,u]),A=(0,P.useCallback)(function(e){var n=O.find(function(n){return n.id===e});if(!n){console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");return}j({docId:t,channel:n,existingChannels:i})},[j,t,i,O]);return(0,en.jsx)(e4.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,en.jsx)(p.xu,{flex:1,children:(0,en.jsxs)(e9.B,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,en.jsx)(y.k,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,en.jsx)(e8.$,{})}),(0,en.jsxs)(e7.AutoComplete,{rollNavigation:!0,multiple:!0,emptyState:function(){return!!h&&(0,en.jsxs)(y.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,en.jsx)(p.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,en.jsx)(nn(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,en.jsx)(ez.X,{size:"xs",mb:2,textAlign:"center",children:(0,en.jsx)(c.cC,{id:"NmfOr+"})}),(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.400",textAlign:"center",children:(0,en.jsx)(c.cC,{id:"kXnLEt"})})]})},suggestWhenEmpty:!1,openOnFocus:!0,filter:function(){return!0},onSelectOption:function(e){A(e.item.value),l("")},children:[(0,en.jsxs)(e6.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,en.jsx)(y.k,{flex:1}),(0,en.jsx)(y.k,{h:10,py:4,alignItems:"center",children:(0,en.jsx)(e3.W,{w:10})})]}),(0,en.jsx)(e7.AutoCompleteInput,{ref:o,"data-testid":"autocomplete-channels-input",cursor:r?"not-allowed":void 0,disabled:r,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:eG.ag._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:a,onChange:function(e){var n=e.target.value;l(n),n||f([])}}),(0,en.jsx)(e7.AutoCompleteList,{w:"100%",mt:0,display:a.length>0?"flex":"none",children:O.length>0&&O.map(function(e){var n=e.id,t=e.name,i=e.memberCount,r=e.isMember,o=e.members;return(0,en.jsx)(e7.AutoCompleteItem,{"data-testid":"autocomplete-item-channel-".concat(n),value:{id:e.id},getValue:function(e){return e.id},align:"center",_focus:{bg:"trueblue.50"},children:(0,en.jsxs)(Y.U,{spacing:4,p:0,flex:1,children:[(0,en.jsx)(p.xu,{color:"gray.700",children:(0,en.jsx)(_.G,{icon:D.Ty})}),(0,en.jsxs)(m.K,{spacing:0,flex:"1",children:[(0,en.jsx)(F.x,{children:t}),(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.400",children:r?(0,en.jsx)(c.cC,{id:"tWPlLK",values:{0:i||0}}):(0,en.jsx)(c.cC,{id:"pkIIls",values:{0:i||0}})})]}),(0,en.jsx)(w.NL,{size:"xs",overflowTooltipLabel:eG.ag._({id:"25VyZX"}),avatars:o||[],max:3,onClick:function(e){e.preventDefault(),e.stopPropagation()}})]})},n)})})]})]})})})},ni=t(75944),nr=t(4448),no=t(7985),ns=t(98841),nc=t(60147),na=t(86379),nl=t(29677),nd=t(31912),nu=t(36471),np=t(26673),nf=t(9088),nx=t(30893),nh=t(40771),nm=t(63849),ng=t(2575),nj=t(95258),nv=t(82904);(o||(o={})).NoAccess="no_access";var nb=(r={},(0,S.Z)(r,I.y3$.Manage,{title:function(){return eG.ag._({id:"DZfDCl"})},description:function(){return eG.ag._({id:"r59J7Q"})}}),(0,S.Z)(r,I.y3$.Edit,{title:function(){return eG.ag._({id:"ePK91l"})},description:function(){return eG.ag._({id:"kuZsYI"})}}),(0,S.Z)(r,I.y3$.Comment,{title:function(){return eG.ag._({id:"NBdIgR"})},description:function(){return eG.ag._({id:"IwFh5+"})}}),(0,S.Z)(r,I.y3$.View,{title:function(){return eG.ag._({id:"jpctdh"})},description:function(){return eG.ag._({id:"yzFEXd"})}}),(0,S.Z)(r,o.NoAccess,{title:function(){return eG.ag._({id:"oPoLg+"})},description:function(){return eG.ag._({id:"Vcif8/"})}}),r),nC=function(e){var n=e.isDisabled,t=e.options,i=e.disabledOptions,r=void 0===i?[]:i,s=e.selected,a=e.variant,l=e.onClick,d=void 0===l?function(){}:l,u=e.onRemove;return(0,en.jsxs)(nf.v,{closeOnSelect:!0,children:[(0,en.jsx)(nx.j,{"data-testid":"permission-menu-value-".concat(s),as:v.z,display:"flex",size:"sm",isDisabled:n,variant:void 0===a?"ghost":a,rightIcon:(0,en.jsx)(_.G,{icon:np.pt}),children:nb[s||o.NoAccess].title()}),(0,en.jsx)(nh.q,{textAlign:"left",zIndex:"overlay",children:(0,en.jsxs)(nm._,{defaultValue:s,value:s,title:eG.ag._({id:"9cDpsw"}),type:"radio",onChange:function(e){d(e)},children:[t.map(function(e){var n=r.find(function(n){return n.permission===e}),t=n&&n.reason;return(0,en.jsx)(ng.i,{isDisabled:!!n,value:e,alignItems:"start",pt:3,children:(0,en.jsx)(w.kH,{label:t,"aria-label":t,isDisabled:!n,placement:"top",children:(0,en.jsxs)(p.xu,{children:[(0,en.jsx)(F.x,{mt:-1,children:nb[e].title()}),(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.500",mt:1,children:nb[e].description()})]})},e)},e)}),u&&(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(nj.R,{}),(0,en.jsx)(nv.s,{color:"red.500",onClick:u,icon:(0,en.jsx)(_.G,{icon:nu.$,fixedWidth:!0}),children:(0,en.jsx)(c.cC,{id:"t/YqKh"})})]})]})})]})},ny=t(15241);function nO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function n_(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nO(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nO(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nw=(0,ns.E)(p.xu),nP=function(e,n,t){if(!t)return e;var i=(0,eh.Z)(e),r=e.findIndex(function(e){return"email"in e&&e.email===t}),o=n.find(function(e){return e.email===t});return -1!==r&&i.splice(r,1),[].concat((0,eh.Z)(i),[o||{email:t}])},nI=function(e,n){var t=(0,nd.Hs)(n.map(function(e){return"displayName"in e?e.displayName:e.email}),3);return e===I.y3$.Manage?eG.ag._({id:"4bKxWq",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}):e===I.y3$.Edit?eG.ag._({id:"3rbi6Y",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}):e===I.y3$.Comment?eG.ag._({id:"uGWY40",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}):e===I.y3$.View?eG.ag._({id:"p5IG6F",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}):eG.ag._({id:"Ai1TAT",values:{0:n.length,userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})},nA=function(e){var n,t=e.workspaceId,i=e.docId,r=e.user,o=e.existingDocCollaborators,s=e.existingInvitations,a=e.registerDoneFn,l=e.isDisabled,d=(0,z.p)(),u=(0,P.useState)(!1),f=u[0],x=u[1],h=(0,P.useRef)(),m=(0,P.useRef)(null),g=(0,P.useState)(""),j=g[0],b=g[1],C=(0,P.useState)([]),O=C[0],A=C[1],k=(0,P.useState)(I.y3$.Manage),D=k[0],E=k[1],S=(0,P.useState)(new nl.B),T=S[0],M=S[1],L=(0,P.useState)([]),U=L[0],Z=L[1],W=U.filter(function(e){return"email"in e}),V=o.map(function(e){return e.user}),K=(0,ni.q)({id:"unsentInvitationsModalDisclosure"}),q=K.isOpen,$=K.onOpen,B=K.onClose,H=(0,I.qVw)(),J=(0,N.Z)(H,2),X=J[0],Q=J[1],ee=Q.loading,et=Q.error;(0,eH.GJ)("Error inviting collaborators.",et);var ei=(0,nc.j)(I.aAR),er=(0,I.PGi)({variables:{query:j,workspaceId:t},skip:!j}),eo=er.data,es=er.loading;(0,P.useEffect)(function(){!es&&eo&&A(eo.search.filter(Boolean))},[eo,es]);var ec=(0,P.useMemo)(function(){return j?O.filter(function(e){return"User"===e.__typename&&e.id!==r.id&&!W.concat(V).find(function(n){return n.email===e.email})}):[]},[O,V,j,W,r.id]),ea=!!j&&!ec.find(function(e){return e.email===j}),el=D===I.y3$.Manage&&W.some(function(e){return!("__typename"in e&&"User"===e.__typename)}),ed=U.concat({email:j}).filter(function(e){return!("email"in e)||(0,no.G)(e.email||"")}),eu=!!U.length,ep=!!ed.length;(0,P.useEffect)(function(){a(function(){return function(){return ep?$():T.resolve(),T.promise}})},[a,T,ep,$]);var ef=(0,P.useCallback)((n=(0,R.Z)(G().mark(function e(n){var i;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),Z(function(e){return n.reduce(function(e,n){return nP(e,ec,n.trim())},e)}),e.next=4,Promise.all(n.map(function(e){return ei({workspaceId:t,query:e}).then(function(n){var t;return null===(t=n.data)||void 0===t?void 0:t.search.find(function(n){return"User"===n.__typename&&n.email===e})})}));case 4:i=e.sent.filter(Boolean),Z(function(e){return n.reduce(function(e,n){return nP(e,i,n.trim())},e)}),x(!1);case 7:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[ec,ei,t]),ex=(0,P.useCallback)((0,R.Z)(G().mark(function e(){var n,t,c;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==W.length){e.next=2;break}return e.abrupt("return");case 2:return n=nP(W,ec,j.trim()).filter(function(e){return"email"in e&&(0,no.G)(e.email||"")}),t=[].concat((0,eh.Z)(o),(0,eh.Z)(n.map(function(e){if("id"in e)return{docId:i,user:e,guest:!1,permission:D,__typename:"DocCollaborator"}}))).filter(function(e){return!!e}),c=[].concat((0,eh.Z)(s),(0,eh.Z)(n.map(function(e){if(!("id"in e))return{id:"temp",docTitle:"temp-title",invitedBy:r,docId:i,email:e.email,permission:D,__typename:"DocInvitation"}}))).filter(function(e){return!!e}),e.abrupt("return",X({variables:{docId:i,collaborators:n.map(function(e){var n={permission:D};return n_(n_({},"id"in e?{userId:e.id}:{email:e.email}),n)})},update:function(e,n){var t=n.data;e.writeFragment({id:"Doc:".concat(i),fragment:I.yAO,data:null==t?void 0:t.addCollaborators})},optimisticResponse:{addCollaborators:{id:i,collaborators:t,invitations:c}}}).then(function(){d({title:eG.ag._({id:"Ka86rB",values:{0:n.length}}),description:nI(D,n),status:"success",duration:5e3,isClosable:!0,position:"top"})}));case 6:case"end":return e.stop()}},e)})),[X,i,j,D,ec,W,o,s,d,r]),em=(0,P.useCallback)((0,R.Z)(G().mark(function e(){return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([ex()]).then(function(){var e;Z([]),b(""),null===(e=h.current)||void 0===e||e.resetItems(!0),T.resolve(),M(new nl.B)}).catch(function(e){console.warn(e)}));case 1:case"end":return e.stop()}},e)})),[ex,T]),eg=l||ee||f;return(0,en.jsxs)(e4.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,en.jsx)(p.xu,{flex:1,children:(0,en.jsxs)(e9.B,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,en.jsx)(y.k,{display:f?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,en.jsx)(e8.$,{})}),(0,en.jsxs)(e7.AutoComplete,{ref:h,values:U,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:function(e,n){return!W.find(function(e){return e.email===n})},onSelectOption:function(e){var n=e.item;"collaborator"===n.originalValue.type&&Z(function(e){return nP(e,ec,n.value)}),b("")},onTagRemoved:function(e){Z(function(n){return(0,eh.Z)(n).filter(function(n){return"email"in n?n.email!==e:!("id"in n)||n.id!==e})})},children:[(0,en.jsxs)(e6.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,en.jsx)(y.k,{flex:1}),(0,en.jsx)(y.k,{h:10,py:4,alignItems:"center",children:(0,en.jsx)(e3.W,{w:10})})]}),(0,en.jsx)(e7.AutoCompleteInput,{ref:m,"data-testid":"autocomplete-collaborators-input",cursor:eg?"not-allowed":void 0,disabled:eg,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:eG.ag._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:j,onKeyDown:function(e){if("Backspace"===e.key&&0===j.length&&U.length>0){var n,t=U.slice(-1).pop();t&&(null===(n=h.current)||void 0===n||n.removeItem("email"in t?t.email:t.id))}},onPaste:function(e){e.preventDefault(),e.stopPropagation(),ef(e.clipboardData.getData("Text").trim().split(/[,|;\s]+/)),b(""),A([])},onChange:function(e){var n=e.target.value;b(n),n||A([])},children:U.map(function(e,n){return(0,en.jsx)(ny.L,{idx:n,selectedCollaborator:e,handleRemoveClick:function(){var n;null===(n=h.current)||void 0===n||n.removeItem(e.email)}},"id"in e?e.id:e.email)})}),(0,en.jsx)(e7.AutoCompleteList,{w:"100%",mt:0,display:j.length>0?"flex":"none",children:ec.map(function(e){var n=e.id,t=e.email,i=e.displayName,r=e.profileImageUrl;return(0,en.jsx)(e7.AutoCompleteItem,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(n),value:{email:t,type:"collaborator"},getValue:function(e){return e.email},align:"center",_focus:{bg:"trueblue.50"},children:(0,en.jsxs)(Y.U,{children:[(0,en.jsx)(eW.q,{size:"sm",name:i,src:r}),(0,en.jsxs)(p.xu,{children:[(0,en.jsx)(F.x,{textTransform:"capitalize",children:i}),(0,en.jsx)(F.x,{fontSize:"xs",color:"gray.500",children:null==t?void 0:t.toLowerCase()})]})]})},n)}).concat((0,en.jsx)(e7.AutoCompleteItem,{value:{email:j,type:"collaborator"},align:"center",display:ea?"flex":"none",_focus:{bg:"trueblue.50"},children:(0,en.jsxs)(Y.U,{children:[(0,en.jsx)(p.Cd,{bg:"trueblue.100",size:8,children:(0,en.jsx)(_.G,{icon:eM.FU})}),(0,en.jsx)(F.x,{size:"md",children:j})]})},j))})]}),(0,en.jsx)(nr.p,{in:eu,unmountOnExit:!0,children:(0,en.jsx)(e6.x,{w:"auto",justifyContent:"flex-end",pr:1,children:(0,en.jsx)(nC,{isDisabled:ee,options:[I.y3$.Manage,I.y3$.Edit,I.y3$.Comment,I.y3$.View],variant:"ghost",selected:D,onClick:function(e){return E(e)}})})})]})}),(0,en.jsx)(nw,{overflowX:"hidden",mr:-2,transition:"slow",animate:{maxWidth:eu?"200px":"0px"},children:(0,en.jsx)(w.kH,{label:(0,en.jsx)(c.cC,{id:"Rxin92"}),"aria-label":eG.ag._({id:"Rxin92"}),isDisabled:!el,placement:"top",children:(0,en.jsx)(p.xu,{children:(0,en.jsx)(v.z,{variant:"solid",onClick:em,isDisabled:!ep||el,isLoading:ee,"data-testid":"add-selected-items",children:(0,en.jsx)(c.cC,{id:"m16xKo"})})})})}),(0,en.jsx)(na.C,{invitationCount:ed.length,onDiscardClick:function(){B(),T.resolve(),M(new nl.B)},onSendInvitationsClick:function(){B(),em()},onClose:function(){B(),T.reject(),M(new nl.B)},isOpen:q})]})},nk=function(e){var n=e.title,t=e.subtitle,i=e.img,r=e.isDisabled,o=e.disabledText,s=e.tooltipText,c=e.testId,a=e.infoIcon,l=e.permissionsControl,d=e.workspaceGuestInvite,u="string"==typeof t?(0,en.jsx)(F.x,{fontSize:"xs",color:"gray.500",children:t}):t,f=(0,en.jsx)(w.kH,{isDisabled:!s,label:s,placement:"top",children:(0,en.jsx)(p.xu,{children:l})});return(0,en.jsxs)(Y.U,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(c?"-"+c:""),children:[(0,en.jsx)(p.xu,{children:(0,en.jsxs)(y.k,{alignItems:"center",children:[i,(0,en.jsxs)(p.xu,{ml:3,children:[(0,en.jsx)(F.x,{children:n}),(0,en.jsxs)(y.k,{align:"center",children:[d&&d,u&&u]})]})]})}),(0,en.jsx)(p.xu,{children:(0,en.jsx)(w.kH,{isDisabled:!s,label:(0,en.jsx)(F.x,{children:s}),placement:"top",children:void 0!==r&&r?(0,en.jsx)(F.x,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(c),children:o}):a?(0,en.jsxs)(Y.U,{children:[a,f]}):f})})]})},nD=t(82269),nE=["children","showDivider"];function nS(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nR(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nS(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nS(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nN=function(e){var n=e.children,t=e.showDivider,i=(0,nD.Z)(e,nE);return(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(ep.g,nR(nR({spacing:1,align:"stretch",py:4},i),{},{children:n})),(void 0===t||t)&&(0,en.jsx)(x.i,{})]})},nT=function(e){var n=e.subtitle,t=e.tooltipLabel,i=e.ariaLabel,r=e.icon;return(0,en.jsxs)(Y.U,{spacing:1,align:"center",children:[(0,en.jsx)(F.x,{fontSize:"xs",color:"gray.500",children:n}),(0,en.jsx)(w.kH,{label:t,placement:"top","aria-label":i,children:(0,en.jsx)(p.xu,{color:"gray.500",lineHeight:"1",children:(0,en.jsx)(_.G,{size:"xs",icon:r})})})]})},nM=t(43794),nL=t(54728),nG=t(51434),nU=t(91333),nz=t(10344),nF=t(23742),nZ=t(83897),nW=function(e){var n=e.email,t=e.name,i=e.workspaceName,r=e.workspaceId,o=(0,I.f4M)(),s=(0,N.Z)(o,1)[0],a=(0,P.useState)(!1),l=a[0],d=a[1],u=(0,z.p)();return(0,en.jsx)(nL.J,{closeOnBlur:!0,children:function(e){var o=e.onClose;return(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(nG.x,{children:(0,en.jsx)(v.z,{leftIcon:(0,en.jsx)(_.G,{icon:nM.Gg}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,en.jsx)(c.cC,{id:"O1wAlQ"})})}),(0,en.jsxs)(nU.y,{bg:"white",children:[(0,en.jsx)(nz.Q,{}),(0,en.jsx)(nF.Y,{fontWeight:"bold",children:(0,en.jsx)(c.cC,{id:"XYV7FR"})}),(0,en.jsxs)(nZ.b,{children:[(0,en.jsx)(F.x,{fontSize:"sm",children:(0,en.jsx)(c.cC,{id:"hJZ5XP",values:{name:t,workspaceName:i,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})}),(0,en.jsx)(v.z,{isDisabled:l,w:"100%",mt:2,onClick:function(){r&&n&&(d(!0),s({variables:{workspaceId:r,invitees:[{email:n}]}}).then(function(){u({title:eG.ag._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(function(e){console.error(e),u({title:eG.ag._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(function(){d(!1),o()}))},children:(0,en.jsx)(c.cC,{id:"qVqqmP"})})]})]})]})}})};function nV(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function nY(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nV(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nV(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nK=function(){return{view:{subtitle:eG.ag._({id:"ihPQra"}),tooltip:(0,D.tN)()},comment:{subtitle:eG.ag._({id:"qPZYdC"}),tooltip:eG.ag._({id:"oKPro/",values:{0:(0,D.tN)()}})},edit:{subtitle:eG.ag._({id:"TVFcVE"}),tooltip:eG.ag._({id:"2gPY9r",values:{0:(0,D.tN)()}})}}},nq=function(e,n){var t,i,r="DocCollaborator"===e.__typename?null===(t=e.user.displayName)||void 0===t?void 0:t.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",o="DocCollaborator"===n.__typename?null===(i=n.user.displayName)||void 0===i?void 0:i.toUpperCase():"DocInvitation"===n.__typename?n.email.toUpperCase():"";return!o||r&&r<o?-1:!r||o&&r>o?1:0},n$=function(e,n){if(e.permission!==n.permission){if("manage"===e.permission)return -1;if("manage"===n.permission)return 1}return nq(e,n)},nB=function(e){var n,t,i,r=e.workspaceId,s=e.isFromOtherOrg,a=e.doc,l=e.user,d=e.setVerifySearchDone,u=e.canManage,f=(0,eq.A)(nK),x=(0,z.p)(),h=(0,eJ._)(eQ.H.hasDismissedDocWorkspaceNotice,!1),m=(0,N.Z)(h,2),g=m[0],j=(m[1],(0,P.useState)(!1)),v=j[0],b=j[1],C=(0,I.$gs)().isConnected,O=(0,I.qVw)(),A=(0,N.Z)(O,2),k=A[0],D=A[1].error,S=(0,I.mrc)(),R=(0,N.Z)(S,2),M=R[0],L=R[1].error;(0,eH.GJ)("Error updating collaborator.",D),(0,eH.GJ)("Error removing collaborator.",L);var G=(0,I.rIg)(),U=(0,N.Z)(G,1)[0],Z=(0,I.kTH)(),W=(0,N.Z)(Z,1)[0],V=null==a?void 0:null===(n=a.accessLinks)||void 0===n?void 0:n[0],K=(0,P.useMemo)(function(){return(0,eX.Gn)({docTitle:null==a?void 0:a.title,docId:null==a?void 0:a.id,token:null==V?void 0:V.token,absolute:!0})},[a,null==V?void 0:V.token]),q=u&&C,$=!s,B=($&&(g||!a||a.orgAccess),!!(!(null!=a&&a.orgAccess)&&(null==a?void 0:a.channels)&&(null==a?void 0:a.channels.length)>0&&(null==a?void 0:a.channels.every(function(e){return eY()(e.permission)})))),H=(null==a?void 0:a.orgAccess)==null&&(null==a?void 0:a.publicAccess)==I.y3$.View,X=(0,E.qw)(a),Q=(null==a?void 0:a.collaborators)||[],ee=(null==a?void 0:a.invitations)||[],et=Q.filter(function(e){return e.permission===I.y3$.Manage}).length,ei=[].concat((0,eh.Z)(Q),(0,eh.Z)(ee)).sort(n$),er=function(e){return function(){x({title:"updated"===e?eG.ag._({id:"Xpw8aE"}):eG.ag._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}},eo=null!=V&&V.permission?null==V?void 0:V.permission:o.NoAccess,es=eo===o.NoAccess,ec=(null==V?void 0:V.token)==="",ea=V&&V.permission!==I.y3$.View,el=a.orgAccess?a.orgAccess:o.NoAccess,ed=el!==o.NoAccess;return(0,en.jsxs)(en.Fragment,{children:[q&&(0,en.jsx)(nA,{workspaceId:r,docId:a.id,user:l,existingDocCollaborators:Q,existingInvitations:ee,registerDoneFn:d,isDisabled:!u}),(0,en.jsx)(e$.V,{label:(0,en.jsx)(c.cC,{id:"i5bpoc"}),isConnected:C,mb:4}),(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.600",pt:2,children:X}),(0,en.jsxs)(nN,{children:[!1,(0,en.jsx)(nk,{testId:"workspace",title:(0,en.jsx)(c.cC,{id:"wtxjAY"}),subtitle:ed?eG.ag._({id:"aC87LX",values:{0:null==a?void 0:null===(t=a.organization)||void 0===t?void 0:t.name}}):"",img:(0,en.jsx)(e2,{icon:eL.P8,showDisabled:!ed}),isDisabled:!q,disabledText:nb[el].title(),infoIcon:H?(0,en.jsx)(w.kH,{label:(0,en.jsx)(c.cC,{id:"paaewf",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}),placement:"top",children:(0,en.jsx)(p.xu,{color:"yellow.500",children:(0,en.jsx)(_.G,{icon:eT.faCircleInfo})})}):void 0,permissionsControl:(0,en.jsx)(nC,{isDisabled:!q,selected:el,options:[I.y3$.Manage,I.y3$.Edit,I.y3$.Comment,I.y3$.View,o.NoAccess],onClick:function(e){var n={id:a.id,orgAccess:e===o.NoAccess?null:e};U({variables:n,optimisticResponse:{updateDoc:nY(nY({},n),{},{__typename:"Doc"})},refetchQueries:["GetDocs"]}).then(er(e===o.NoAccess?"removed":"updated"))}})}),$&&(null===(i=a.channels)||void 0===i?void 0:i.map(function(e){return(0,en.jsx)(e5,{channel:e,doc:a,isDisabled:!C,showDisabledIcon:B},e.id)})),!!a.orgAccess&&$&&!B&&(0,en.jsx)(p.xu,{w:"100%",mt:2,children:(0,en.jsx)(nt,{existingChannels:a.channels,workspaceId:r,docId:a.id,isDisabled:!C})}),(0,en.jsx)(eU.U,{in:$&&B,children:(0,en.jsxs)(eF.b,{status:"warning",children:[(0,en.jsx)(eZ.z,{}),(0,en.jsx)(c.cC,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}})]})})]}),ei&&(0,en.jsx)(nN,{showDivider:u,children:ei.map(function(e){var n=e.permission===I.y3$.Manage&&et<2,t=!q||n,i=n?eG.ag._({id:"0q0LJR"}):void 0,o=nb[e.permission].title();if("DocCollaborator"===e.__typename){var s,c=e.user;return(0,en.jsx)(nk,{testId:c.email,title:"".concat(c.displayName," ").concat(c.id===l.id?eG.ag._({id:"dDUgzP"}):""),img:(0,en.jsx)(eW.q,{name:c.displayName,src:c.profileImageUrl,size:"sm"}),subtitle:t?void 0:c.email,isDisabled:t,disabledText:o,tooltipText:i,workspaceGuestInvite:!t&&e.guest?(0,en.jsx)(nW,{name:c.displayName,workspaceName:null===(s=a.organization)||void 0===s?void 0:s.name,workspaceId:r,email:e.user.email}):void 0,permissionsControl:(0,en.jsx)(nC,{isDisabled:t,selected:e.permission,options:[I.y3$.Manage,I.y3$.Edit,I.y3$.Comment,I.y3$.View],disabledOptions:e.guest?[{permission:I.y3$.Manage,reason:eG.ag._({id:"Rxin92"})}]:[],onClick:function(e){var n={docId:a.id,collaborators:[{userId:c.id,permission:e}]};k({variables:n,optimisticResponse:{addCollaborators:{id:n.docId,collaborators:Q.map(function(n){return nY(nY({},n),{},{permission:n.user.id===c.id?e:n.permission})}),invitations:ee,__typename:"Doc"}}}).then(er("updated")).catch(function(){})},onRemove:function(){var e={docId:a.id,collaborators:[{userId:c.id}]};M({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:Q.filter(function(e){return e.user.id!==c.id}),invitations:ee,__typename:"Doc"}}}).then(er("removed"))}})},c.id)}return"DocInvitation"===e.__typename?(0,en.jsx)(nk,{testId:e.email,title:e.email,subtitle:eG.ag._({id:"MActeE"}),img:(0,en.jsx)(p.Cd,{bg:"trueblue.50",size:8,children:(0,en.jsx)(_.G,{icon:eM.FU,size:"sm"})}),isDisabled:t,disabledText:o,permissionsControl:(0,en.jsx)(nC,{selected:e.permission,options:[I.y3$.Manage,I.y3$.Edit,I.y3$.Comment,I.y3$.View],disabledOptions:[{permission:I.y3$.Manage,reason:eG.ag._({id:"Rxin92"})}],onClick:function(n){var t={docId:a.id,collaborators:[{email:e.email,permission:n}]};k({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,invitations:ee.map(function(t){return nY(nY({},t),{},{permission:t.email===e.email?n:t.permission})}),collaborators:Q,__typename:"Doc"}}}).then(er("updated")).catch(function(){console.warn("Error updating permission")})},onRemove:function(){var n={docId:a.id,collaborators:[{email:e.email}]};M({variables:n,optimisticResponse:{removeCollaborators:{id:n.docId,invitations:ee.filter(function(n){return n.email!==e.email}),collaborators:Q,__typename:"Doc"}}}).then(er("removed"))}})},e.email):null})}),u&&(0,en.jsxs)(nN,{showDivider:!1,children:[(0,en.jsx)(nk,{title:(0,en.jsx)(c.cC,{id:"qZu20V"}),subtitle:es?eG.ag._({id:"vMZPZT"}):(0,en.jsx)(nT,{subtitle:f[eo].subtitle,tooltipLabel:f[eo].tooltip,ariaLabel:f[eo].subtitle,icon:eT.faCircleInfo}),img:(0,en.jsx)(e2,{icon:eN.nN,showDisabled:es}),isDisabled:!q,disabledText:nb[eo].title(),permissionsControl:(0,en.jsx)(nC,{selected:eo,options:[I.y3$.Edit,I.y3$.Comment,I.y3$.View,o.NoAccess],onClick:function(e){var n=null==V?void 0:V.id,t={id:a.id,accessLinks:e===o.NoAccess?[{permission:null}]:[{permission:e}]};W({variables:t,optimisticResponse:{updateDoc:nY(nY({},t),{},{accessLinks:[{__typename:"AccessLink",id:n||"temp-id",permission:e===o.NoAccess?null:e}],__typename:"Doc"})}}).then(er(e===o.NoAccess?"removed":"updated"))}})}),(0,en.jsxs)(eU.U,{animateOpacity:!0,in:!!(null==V?void 0:V.permission),children:[(0,en.jsx)(eK.I,{url:K,customLabel:eG.ag._({id:"y1eoq1"}),onClick:function(){(0,eB.J)({docId:a.id,source:"sharePanel",type:"tokenUrl"})}}),!ec&&(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(eU.U,{in:v,unmountOnExit:!0,children:(0,en.jsxs)(ep.g,{mt:3,align:"stretch",spacing:4,bg:"gray.50",p:6,borderRadius:"md",children:[(0,en.jsxs)(Y.U,{spacing:4,align:"center",children:[(0,en.jsx)(p.xu,{color:"purple.600",children:(0,en.jsx)(_.G,{fixedWidth:!0,icon:eS._1})}),(0,en.jsx)(F.x,{fontSize:"sm",children:(0,en.jsx)(c.cC,{id:"asiJbp"})})]}),(0,en.jsxs)(Y.U,{spacing:4,align:"center",children:[(0,en.jsx)(p.xu,{color:"purple.600",children:(0,en.jsx)(_.G,{fixedWidth:!0,icon:eE.Md})}),(0,en.jsx)(F.x,{fontSize:"sm",display:"inline-block",children:(0,en.jsx)(c.cC,{id:"+g8rkW",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc,GAMMA_PROPER_NOUN:J.N6}})})]}),ea&&(0,en.jsxs)(Y.U,{spacing:4,align:"center",children:[(0,en.jsx)(p.xu,{color:"purple.600",children:(0,en.jsx)(_.G,{fixedWidth:!0,icon:eD.FK})}),(0,en.jsx)(F.x,{fontSize:"sm",children:(0,en.jsx)(c.cC,{id:"NSCwrX",values:{GAMMA_PROPER_NOUN:J.N6,selectedAccessLinkPermission:eo},components:{0:(0,en.jsx)(F.x,{as:"span",fontWeight:"bold"})}})})]})]})}),(0,en.jsx)(y.k,{justify:"center",alignItems:"center",my:3,children:(0,en.jsxs)(Y.U,{spacing:1,as:"button",onClick:function(){return b(!v)},children:[v?(0,en.jsx)(_.G,{fixedWidth:!0,size:"xs",icon:eR.on}):(0,en.jsx)(_.G,{fixedWidth:!0,size:"xs",icon:T.r8}),(0,en.jsx)(F.x,{lineHeight:"normal",marginLeft:"auto",marginRight:"auto",fontSize:"xs",fontWeight:"medium",children:v?(0,en.jsx)(c.cC,{id:"BRvU04"}):(0,en.jsx)(c.cC,{id:"l0Ck42"})})]})})]})]})]})]})},nH=t(46802),nJ=t(34638),nX=function(e){var n=e.visibility,t=e.isFromOtherOrg,i=(0,nJ.ff)("white","var(--chakra-colors-gray-900)");return(0,en.jsxs)(en.Fragment,{children:[t&&(0,en.jsx)(_.G,{icon:nM.Gg}),(0,en.jsxs)(p.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,en.jsx)(_.G,{icon:n.primaryIcon}),n.secondaryIcon&&(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(_.G,{icon:nH.di,color:i,transform:"down-6 right-6"}),(0,en.jsx)(_.G,{icon:n.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})},nQ=t(70110),n0=t(2046),n1=t(71193),n2=t(49294),n5=t(25793);function n3(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function n4(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n3(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n3(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var n9="embed-copied-toast",n8=function(e){var n=e.embedCode,t=e.isDisabled,i=e.docId,r=(0,z.p)(),o=(0,P.useState)(!1),s=o[0],a=o[1],l=(0,n2.V)(n),d=l.hasCopied,u=l.onCopy,p=(0,P.useRef)(null);(0,P.useEffect)(function(){p.current&&s&&(p.current.focus(),p.current.select())},[s]);var f=(0,P.useCallback)(function(){return a(!0)},[]),x=(0,P.useCallback)(function(){return a(!1)},[]),h=(0,P.useCallback)(function(){u(),r.isActive(n9)||r({id:n9,title:(0,en.jsx)(c.cC,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,eB.J)({docId:i,source:"sharePanel",type:"embed"})},[i,u,r]);return(0,en.jsxs)(ep.g,{spacing:4,align:"stretch",children:[(0,en.jsx)(n5.g,{ref:p,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:t,onClick:f,onBlur:x,isReadOnly:!0,resize:"none",pointerEvents:t?"none":void 0,children:n}),(0,en.jsx)(v.z,n4(n4({alignSelf:"flex-end",onClick:h,isDisabled:t,size:"sm"},t?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{}),{},{children:d?(0,en.jsx)(c.cC,{id:"6V3Ea3"}):(0,en.jsx)(c.cC,{id:"Sx4kHi"})}))]})};function n6(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function n7(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n6(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n6(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var te=function(e){var n=e.doc,t=e.isSharePublic,i=e.isConnected,r=e.onSharePanelOpen,s=e.onSharePanelClose,a=e.editor,l=(0,z.p)(),d=(0,P.useState)(!!n.publicAccess),u=d[0],f=d[1],x=(0,I.o6I)(),h=(0,N.Z)(x,1)[0],m=(0,P.useMemo)(function(){var e=(0,eX.Gn)({docId:n.id,docTitle:n.title,path:"public",absolute:!0});return t?e:(0,eX.lT)({docId:n.id,docTitle:n.title})},[n.id,n.title,t]),g=(0,P.useCallback)(function(e){f(e.target.checked);var t={id:n.id,publicAccess:e.target.checked?I.y3$.View:null};h({variables:t,optimisticResponse:{updateDoc:n7(n7({},t),{},{__typename:"Doc"})}}).then(function(){l({title:e.target.checked?eG.ag._({id:"OnQp1B"}):eG.ag._({id:"e5veeL"}),status:"success",duration:5e3,isClosable:!0,position:"top"})})},[n.id,l,h]),j=n.publicAccess?nb[I.y3$.View].title():nb[o.NoAccess].title(),b=t?(0,en.jsx)(c.cC,{id:"kGj/zu",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc},components:{0:(0,en.jsx)(F.x,{as:"span",borderBottom:"0.125em dashed",borderColor:"gray.400",cursor:"help"}),1:(0,en.jsx)(w.kH,{placement:"top",label:eG.ag._({id:"kni5pb",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}}),"aria-label":"public access is read only"})}}):(0,en.jsx)(c.cC,{id:"RmtWc6",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.Yc}});return(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.600",pt:2,children:b}),(0,en.jsx)(nN,{showDivider:!1,children:(0,en.jsx)(nk,{title:(0,en.jsx)(c.cC,{id:"YsO5Wf"}),testId:"public-access",subtitle:(0,en.jsx)(nT,{subtitle:(0,en.jsx)(c.cC,{id:"oEQSnD"}),tooltipLabel:(0,D.tN)(),ariaLabel:eG.ag._({id:"oEQSnD"}),icon:eT.faCircleInfo}),img:(0,en.jsx)(e2,{icon:nQ.Xj}),isDisabled:!i,disabledText:j,permissionsControl:(0,en.jsx)(n0.NI,{children:(0,en.jsx)(n1.r,{id:"public-access",isChecked:u,onChange:g})})})}),(0,en.jsx)(w.kH,{label:t?(0,en.jsx)(c.cC,{id:"RFk/SS"}):(0,en.jsx)(c.cC,{id:"4wpR4l"}),placement:"top",isDisabled:u,children:(0,en.jsx)(p.xu,{children:t?(0,en.jsx)(eK.I,{isDisabled:!n.publicAccess,url:m,customLabel:eG.ag._({id:"FO91Ip"}),onClick:function(){(0,eB.J)({docId:n.id,source:"sharePanel",type:"public"})}}):(0,en.jsx)(n8,{embedCode:m,isDisabled:!u,docId:n.id})})}),t&&a&&(0,en.jsx)(F.x,{fontSize:"sm",color:"gray.500",mt:4,children:(0,en.jsx)(c.cC,{id:"a9n+CI",components:{0:(0,en.jsx)(v.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:function(){s(),e_.pw.emit(e_.TI.OPEN_PAGE_SETUP,"preview")}})}})}),(0,en.jsx)(eP.V,{onClose:s,onOpen:r,segmentEvent:X.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:n})]})},tn=function(e){var n,t=e.doc,i=e.editor,r=e.isSharePanelOpen,o=e.onSharePanelClose,S=e.onSharePanelOpen,R=e.onAnalyticsPanelOpen,N=e.view,T=e.setView,M=e.showAnalytics,L=e.showSharePublic,G=e.showEmbed,U=(0,k._O)(),z=(0,P.useRef)(!1),F=(0,ee.SE)(),Z=F.user,W=F.currentWorkspace,V=(0,I.$gs)().isConnected,Y=(0,ee.py)("manage",t),K=Y&&R,q=(0,A.M)({id:"create-site-modal"}),$=q.isOpen,B=q.onOpen,H=q.onClose,J=(0,D.ei)({showSharePublic:void 0===L||L,showEmbed:void 0===G||G,showWebsites:U&&!(0,ea.s2)()}),X=(0,P.useState)(function(){return function(){return Promise.resolve()}}),Q=X[0],et=X[1],ei=(0,P.useCallback)(function(){Q().then(function(){T("invite"),o()},function(){console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[T,o,Q]),er=(0,P.useCallback)(function(){R&&(o(),R())},[R,o]);if(!Z)return null;var eo=(0,E.h_)(t,Z),el=eo?(0,E.Xp)()[eo]:null,ed=(0,E.Gi)(t,W);if(t&&null===el)return console.error("[SharePanel] Unknown VisibilityValue for doc",t),null;var eu=null==t?void 0:null===(n=t.organization)||void 0===n?void 0:n.id;return!t||eu||z.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:t.id,organization:t.organization}),z.current=!0),(0,en.jsxs)(w.Wk,{isDark:!1,children:[(0,en.jsxs)(a.u_,{onEsc:ei,isOpen:r,onClose:o,trapFocus:!1,size:"3xl",returnFocusOnClose:!1,children:[(0,en.jsx)(l.Z,{}),(0,en.jsxs)(d.h,{"data-share-panel-modal-content":!0,mx:2,children:[(0,en.jsxs)(u.x,{children:[el&&(0,en.jsx)(p.xu,{as:"span",mr:3,children:(0,en.jsx)(nX,{visibility:el,isFromOtherOrg:ed})}),t?(0,en.jsx)(c.cC,{id:"xy569a",values:{0:t.title}}):(0,en.jsx)(c.cC,{id:"Z8lGw6"})]}),(0,en.jsx)(f.o,{"data-share-panel-close-button":!0,onClick:function(e){e.preventDefault(),ei()}}),(0,en.jsx)(x.i,{}),t?(0,en.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:t&&eu&&(0,en.jsxs)(en.Fragment,{children:[Y&&(0,en.jsx)(j.E,{my:4,children:J.map(function(e){var n=e.viewKey,t=e.icon,i=e.ariaLabel,r=e.label,o=e.isBeta,s=N===n;return(0,en.jsx)(j.U,{children:(0,en.jsx)(v.z,{leftIcon:(0,en.jsx)(_.G,{icon:t,"aria-label":i}),variant:"ghost",size:"sm",fontWeight:"600",bg:s?"trueblue.50":"transparent",color:s?"trueblue.500":"gray.600",onClick:function(){return T(n)},rightIcon:o?(0,en.jsx)(b.C,{colorScheme:"green",children:(0,en.jsx)(c.cC,{id:"YBt9YP"})}):void 0,children:r})},n)})}),(!Y||"invite"==N)&&(0,en.jsx)(nB,{workspaceId:eu,doc:t,user:Z,setVerifySearchDone:et,canManage:Y,isFromOtherOrg:ed}),Y&&("public"===N||"embed"===N)&&(0,en.jsx)(te,{doc:t,isSharePublic:"public"==N,isConnected:V,onSharePanelOpen:S,onSharePanelClose:o,editor:i}),Y&&"export"===N&&(0,en.jsx)(eI,{doc:t,editor:i,onSharePanelOpen:S,onSharePanelClose:o}),U&&Y&&"website"===N&&(0,en.jsx)(es,{doc:t,onCreateSiteClick:B})]})}):(0,en.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:(0,en.jsxs)(m.K,{children:[(0,en.jsx)(g.O,{height:"55px"}),(0,en.jsx)(g.O,{height:"55px"}),(0,en.jsx)(g.O,{height:"55px"}),(0,en.jsx)(g.O,{height:"55px"})]})}),(0,en.jsx)(x.i,{}),(0,en.jsx)(C.m,{children:(0,en.jsxs)(y.k,{justifyContent:"space-between",flex:1,children:[(void 0===M||M)&&K&&(0,en.jsx)(v.z,{isDisabled:!V,leftIcon:(0,en.jsx)(_.G,{icon:s.M}),variant:"ghost",onClick:er,children:(0,en.jsx)(c.cC,{id:"YaUqUV"})}),(0,en.jsx)(O.L,{}),(0,en.jsx)(v.z,{onClick:function(e){e.preventDefault(),ei()},variant:"solid",children:(0,en.jsx)(c.cC,{id:"DPfwMq"})})]})})]})]}),(null==t?void 0:t.id)&&U&&Y&&$&&(0,en.jsx)(ec.M,{isOpen:$,onClose:H,existingDoc:t})]})}},34396:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(12741),r=t(81333),o=t(55452),s=t(55479),c=t(2784),a=t(23313),l=t(75085),d=t(52322),u=function(){var e=(0,s.p)(),n=(0,a.yx3)({refetchQueries:["GetChannelDocActivity","GetChannels"]}),t=(0,r.Z)(n,1)[0];return{addDocChannel:(0,c.useCallback)(function(n){var r=n.docId,s=n.doc,c=n.channel,u=n.existingChannels,p=void 0===u?[]:u,f=r||(null==s?void 0:s.id);if(!f){console.error("Invalid docid");return}var x={input:{docId:f,sharing:[{op:a.Bdm.Add,path:"/channels",value:[{channelId:c.id}]}]}},h=(null==s?void 0:s.title)||l.Yc,m=[].concat((0,i.Z)(p),[{id:c.id,slug:c.slug,name:c.name,permission:a.y3$.Comment}]).sort(function(e,n){return e.slug.localeCompare(n.slug,"en")});t({variables:x,update:function(e,n){var t=n.data;e.writeFragment({id:"Doc:".concat(f),fragment:a.IiT,data:null==t?void 0:t.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:x.input.docId,channels:m}}}).then(function(){e({title:(0,d.jsx)(o.cC,{id:"7hDHpt",values:{title:h}}),description:(0,d.jsx)(o.cC,{id:"A2xcFn",values:{0:c.name,GAMMA_ARTIFACT_PROPER_NOUN:l.Yc}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},function(n){e({title:(0,d.jsx)(o.cC,{id:"bLdU0Q",values:{0:c.name,title:h}}),description:n.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[t,e]),removeDocChannel:(0,c.useCallback)(function(n,i){if(i){var r,s={input:{docId:n.id,sharing:[{op:a.Bdm.Remove,path:"/channels",value:[{channelId:i}]}]}};t({variables:s,update:function(e,t){var i=t.data;e.writeFragment({id:"Doc:".concat(n.id),fragment:a.P6u,data:null==i?void 0:i.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:s.input.docId,channels:null===(r=n.channels)||void 0===r?void 0:r.filter(function(e){return e.id!==i})}}}).then(function(){e({title:(0,d.jsx)(o.cC,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:l.Yc}}),status:"success",duration:1e4,position:"top"})}).catch(function(n){e({title:(0,d.jsx)(o.cC,{id:"+yMzgs"}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",n.message)})}},[t,e])}}},92779:function(e,n,t){t.d(n,{Gi:function(){return b},Xp:function(){return O},h_:function(){return _},nZ:function(){return I},qw:function(){return w},uG:function(){return A}});var i=t(12741),r=t(95235),o=t(52622),s=t(11530),c=t(53110),a=t(70110),l=t(43794),d=t(60239),u=t(60670),p=t(76547),f=t(61751),x=t(55452),h=t(87254),m=t(75085),g=t(16092),j=t(51823),v=t(52322),b=function(e,n){var t;return(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.id)!==(null==n?void 0:n.id)},C={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},y=[C.ORG_VIEW,C.ORG_COMMENT,C.ORG_EDIT,C.ORG_MANAGE],O=function(){var e;return e={},(0,r.Z)(e,C.PRIVATE,{title:function(){return h.ag._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},subtitle:function(){return h.ag._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:c.by}),(0,r.Z)(e,C.LINK_VIEW,{title:function(){return h.ag._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.LINK_COMMENT,{title:function(){return h.ag._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.LINK_EDIT,{title:function(){return h.ag._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:f.nN}),(0,r.Z)(e,C.INDIVIDUAL,{title:function(){return h.ag._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},subtitle:function(e){return"".concat(e," can access this ").concat(m.Yc,".")},primaryIcon:s.IL}),(0,r.Z)(e,C.ORG_VIEW,{title:function(e){return h.ag._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:p.Md}),(0,r.Z)(e,C.ORG_COMMENT,{title:function(e){return h.ag._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:u.Mz}),(0,r.Z)(e,C.ORG_EDIT,{title:function(e){return h.ag._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8,secondaryIcon:d.Tz}),(0,r.Z)(e,C.ORG_MANAGE,{title:function(e){return h.ag._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc,org:e}})},primaryIcon:o.P8}),(0,r.Z)(e,C.CHANNEL_PRIVATE,{title:function(){return h.ag._({id:"Tw6Jzi"})},primaryIcon:g.Ty}),(0,r.Z)(e,C.PUBLIC,{title:function(){return h.ag._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},primaryIcon:a.Xj}),e},_=function(e,n){var t;return e?null!=e&&e.publicAccess?C.PUBLIC:(null==e?void 0:e.orgAccess)==="manage"?C.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?C.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?C.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?C.ORG_VIEW:null!=e&&e.channels&&e.channels.some(function(e){return null!==e.permission})?C.CHANNEL_PRIVATE:null!=e&&e.collaborators&&(null==e?void 0:null===(t=e.collaborators)||void 0===t?void 0:t.length)>1?C.INDIVIDUAL:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"view"===e.permission&&""===e.token})?C.LINK_VIEW:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"comment"===e.permission&&""===e.token})?C.LINK_COMMENT:null!=e&&e.accessLinks&&e.accessLinks.some(function(e){return"edit"===e.permission&&""===e.token})?C.LINK_EDIT:A(e,n)?C.PRIVATE:C.INDIVIDUAL:null},w=function(e){return null!=e&&e.publicAccess?h.ag._({id:"gJUdlS",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}}):null!=e&&e.orgAccess?h.ag._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}}):h.ag._({id:"QbKKqw",values:{GAMMA_ARTIFACT_PROPER_NOUN:m.Yc}})},P=function(e,n,t){if(!n)return[];var r,d,u=(null==e?void 0:null===(r=e.channels)||void 0===r?void 0:r.map(function(e){var n=e.id,t=e.name,i=e.slug;return{id:n,label:t,href:(0,j.j)({id:n,slug:i}),icon:g.Ty}}))||[],p=_(e,n),f=b(e,t),h=f?[{id:"shared-from-external-org",label:null!=e&&null!==(d=e.organization)&&void 0!==d&&d.name?(0,v.jsx)(x.cC,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,v.jsx)(x.cC,{id:"qn35Ez"}),icon:l.Gg,color:"gray.500"}]:[];if(p===C.PUBLIC)return[{id:"public",label:(0,v.jsx)(x.cC,{id:"7d1a0d"}),icon:a.Xj,color:"gray.500"}].concat(h,(0,i.Z)(u));if(p===C.PRIVATE)return[{id:"private",label:(0,v.jsx)(x.cC,{id:"zwBp5t"}),icon:c.by,color:"gray.500"}].concat(h);if(p===C.INDIVIDUAL){var m=(e.collaborators||[]).filter(function(e){return e.user.id!==n.id}).length;return[{id:"collaborators",label:(0,v.jsx)(x.cC,{id:"o2NxSP",values:{numCollaborators:m}}),icon:s.IL,color:"gray.500"}].concat(h)}return f?h:p&&y.includes(p)?[{id:"workspace",label:(0,v.jsx)(x.cC,{id:"0Gd0NU"}),icon:o.P8,color:"gray.500"}].concat(h,(0,i.Z)(u)):u},I=function(e){var n=e.doc,t=e.user,i=e.currentWorkspace,r=e.channelToExclude;return P(n,t,i).filter(function(e){return e.id!==r})},A=function(e,n){var t;return e&&n&&!e.orgAccess&&!e.publicAccess&&(null===(t=e.createdBy)||void 0===t?void 0:t.id)===n.id}},27901:function(e,n,t){t.d(n,{M:function(){return E}});var i=t(20406),r=t(81333),o=t(28526),s=t.n(o),c=t(55452),a=t(87254),l=t(55479),d=t(20010),u=t(56915),p=t(48273),f=t(92619),x=t(64827),h=t(2167),m=t(71354),g=t(2046),j=t(70287),v=t(27777),b=t(80353),C=t(76648),y=t(45650),O=t(55966),_=t(5632),w=t(2784),P=t(23313),I=t(76394),A=t(42879),k=t(10710),D=t(52322),E=function(e){var n=e.isOpen,t=e.onClose,o=e.existingDoc,E=(0,l.p)(),S=(0,w.useRef)(null),R=(0,w.useState)(!1),N=R[0],T=R[1],M=(0,k.SE)().currentWorkspace,L=(0,w.useState)(""),G=L[0],U=L[1],z=(0,P.V$$)(),F=(0,r.Z)(z,1)[0],Z=(0,P.So6)(),W=(0,r.Z)(Z,1)[0],V=(0,I.b)(),Y=(0,_.useRouter)().push,K=(0,w.useCallback)((0,i.Z)(s().mark(function e(){var n,t,i,r,l,d;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=o&&o.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,A.iL)(o.id);case 4:return T(!0),e.prev=5,e.next=8,W({variables:{duplicateDocInput:{sourceDocId:o.id,source:P.L17.SitesCopyToSite,title:(null==o?void 0:o.title)||a.ag._({id:"wja8aL"}),orgId:null==M?void 0:M.id,orgAccess:P.y3$.Manage,themeId:null}}});case 8:if(r=null==(i=e.sent.data)?void 0:null===(n=i.duplicateDoc)||void 0===n?void 0:n.id){e.next=14;break}return console.error("[CreateSiteModal] Failed to duplicate doc with id",o.id),e.abrupt("return");case 14:return e.next=16,F({variables:{input:{workspaceId:null==M?void 0:M.id,name:G,routes:[{docId:r,path:"/"}],themeId:null==o?void 0:null===(t=o.theme)||void 0===t?void 0:t.id}}});case 16:if(d=null==(l=e.sent.data)?void 0:l.createSite){e.next=22;break}return console.error("[CreateSiteModal] Failed to create site, no site returned"),e.abrupt("return");case 22:Y((0,A.ri)(d.id,d.name)),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(5),E({status:"error",title:(0,D.jsx)(c.cC,{id:"Pdboh4"}),description:(0,D.jsx)(c.cC,{id:"c6YG3V"})}),console.error(e.t0);case 29:T(!1);case 30:case"end":return e.stop()}},e,null,[[5,25]])})),[F,null==M?void 0:M.id,W,o,G,Y,E]),q=(0,w.useCallback)((0,i.Z)(s().mark(function e(){var n,t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,F({variables:{input:{workspaceId:null==M?void 0:M.id,name:G,routes:[]}}});case 3:if(t=null==(n=e.sent.data)?void 0:n.createSite){e.next=9;break}return console.error("[CreateSiteModal] Failed to create site, no site returned"),e.abrupt("return");case 9:V({siteId:null==t?void 0:t.id,routes:null==t?void 0:t.routes,title:"Home",path:"/"}).then(function(){Y((0,A.ri)(t.id,t.name)),T(!1)});case 10:case"end":return e.stop()}},e)})),[V,F,null==M?void 0:M.id,G,Y]),$=(0,w.useCallback)((0,i.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!=o&&o.id?K():q());case 1:case"end":return e.stop()}},e)})),[null==o?void 0:o.id,K,q]),B=G.length>0;return(0,D.jsx)(O.Wk,{isDark:!1,children:(0,D.jsxs)(d.u_,{isOpen:n,onClose:t,initialFocusRef:S,size:"2xl",children:[(0,D.jsx)(u.Z,{}),(0,D.jsxs)(p.h,{children:[(0,D.jsx)(f.x,{children:(0,D.jsx)(c.cC,{id:"JHMOcq"})}),(0,D.jsx)(x.o,{}),(0,D.jsx)(h.f,{children:(0,D.jsx)(m.K,{spacing:4,children:(0,D.jsxs)(g.NI,{children:[(0,D.jsx)(j.l,{children:(0,D.jsx)(c.cC,{id:"Lve3H6"})}),(0,D.jsx)(v.I,{ref:S,placeholder:a.ag._({id:"tlD7N3"}),onChange:function(e){U(e.target.value)},onKeyDown:function(e){B&&"Enter"===e.key&&$()}})]})})}),(0,D.jsx)(b.m,{children:(0,D.jsxs)(C.h,{children:[(0,D.jsx)(y.z,{variant:"ghost",onClick:t,children:(0,D.jsx)(c.cC,{id:"dEgA5A"})}),(0,D.jsx)(y.z,{variant:"solid",onClick:$,isDisabled:!B,isLoading:N,children:(0,D.jsx)(c.cC,{id:"JHMOcq"})})]})})]})]})})}},76394:function(e,n,t){t.d(n,{b:function(){return m}});var i=t(20406),r=t(81333),o=t(28526),s=t.n(o),c=t(5632),a=t(2784),l=t(23313),d=t(20252),u=t(42879),p=t(36738),f=t(95173),x=t(33295),h=t(3915),m=function(){var e,n=(0,h.SE)(),t=n.user,o=n.currentWorkspace,m=(0,l.CsQ)(),g=(0,r.Z)(m,1)[0],j=(0,l.qbt)(),v=(0,r.Z)(j,1)[0],b=(0,c.useRouter)().push;return(0,a.useCallback)((e=(0,i.Z)(s().mark(function e(n){var i,r,c,a,h,m,j,C,y;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.title,r=n.path,c=n.siteId,a=n.routes,r.startsWith("/")){e.next=4;break}return console.error("[AddNewPageToSite] Path must start with /. Aborting.",r),e.abrupt("return");case 4:if(!(!(null!=o&&o.id)||!c||!a)){e.next=6;break}return e.abrupt("return");case 6:return h=(0,p.R$)(t,{docFlags:{cardLayoutsEnabled:!0}}),m=(0,x.q)(h),e.next=10,g({variables:{workspaceId:null==o?void 0:o.id,title:i,source:l.L17.SitesAddPage,initialContent:{ydoc:m,schemaVersion:f.bI,editors:[null==t?void 0:t.id]},orgAccess:l.y3$.Manage}});case 10:if(C=null==(j=e.sent.data)?void 0:j.createDoc.id,(0,d.Q)({doc_id:C,source:l.L17.SitesAddPage,channel:null}),!(!c||!C)){e.next=17;break}return console.error("[AddPageModal] Site or doc id is undefined. Cannot add route."),e.abrupt("return");case 17:return e.next=19,v({variables:{input:{siteId:c,docId:C,path:r}},refetchQueries:["GetSite"]});case 19:return y=(0,u.as)(c,C),console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",C),e.next=23,b(y);case 23:return e.abrupt("return",C);case 24:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}),[v,g,null==o?void 0:o.id,b,t])}},87063:function(e,n,t){t.d(n,{e:function(){return j}});var i=t(95235),r=t(81333),o=t(55452),s=t(55479),c=t(5632),a=t(2784),l=t(23313),d=t(55562),u=t(32333),p=t(20252),f=t(10710),x=t(95173),h=t(33295),m=t(52322);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}var j=function(){var e=(0,l.So6)({refetchQueries:["GetDocs"]}),n=(0,r.Z)(e,1)[0],t=(0,c.useRouter)().push,j=(0,s.p)(),v=(0,f.SE)(),b=v.user,C=v.currentWorkspace,y=(0,u.z$)();return(0,a.useCallback)(function(e){var r,s=e.docId,c=e.docTitle,a=e.initialContent,l=e.channelId,f=e.source,v=e.openThemeEditor,O=e.onSuccess,_=e.newWindow,w=null==b?void 0:null===(r=b.settings)||void 0===r?void 0:r.needsEditorOnboarding;if(!s)return Promise.reject(Error("Cannot duplicate without a docId"));var P=j({id:"duplicate-toast-".concat(s),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,m.jsx)(o.cC,{id:"OvEjsP"})});return b&&null!=C&&C.id?n({variables:{duplicateDocInput:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({orgId:null==C?void 0:C.id,sourceDocId:s,source:d.R[f],initialContent:a?{ydoc:(0,h.q)(a),schemaVersion:x.bI,editors:[null==b?void 0:b.id]}:void 0},l?{channels:[{channelId:l}]}:{})}}).then(function(e){if(!(null!=e&&null!==(n=e.data)&&void 0!==n&&n.duplicateDoc))throw Error("No data received");null==y||y.track(u.AA.EXAMPLE_DUPLICATED,{doc_id:s,title:c,source:f});var n,i,r=(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.duplicateDoc).id;(0,p.Q)({doc_id:r,source:f,source_doc_id:s}),console.debug("[Duplicate.".concat(f,"] Doc duplicated New doc id (").concat(r,"). Navigating to Editor")),j.update(P,{status:"success",description:(0,m.jsx)(o.cC,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});var a=v?"/docs/".concat(r).concat(v?"?openThemeEditor=true":""):w?"/docs/".concat(r,"?tour=true"):"/docs/".concat(r);_?window.open(a,"_blank"):t(a),O&&r&&O(r)},function(e){console.error("[Duplicate.".concat(f,"] Error duplicating doc:"),e.message),j.update(P,{title:(0,m.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(function(e){console.error("[Duplicate.".concat(f,"] Error duplicating doc:"),e.message),j.update(P,{title:(0,m.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(f,"] Cannot duplicate without a user or workspace"),{user:b}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==C?void 0:C.id,b,j,n,y,t])}}}]);
//# sourceMappingURL=6510-777e628896b687c9.js.map